
<!DOCTYPE html>
<html>
  <head>
    <title>Equality</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
    .markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}pre{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;padding:1em;margin:.5em 0;overflow:auto;line-height:1.5;tab-size:4;hyphens:none;color:#2b3f6a;background-color:#eee9dd!important;border:#ddd3bb;border-radius:3px}pre[class*=language-]{padding:1em}code[class*=language-] .token.cdata,code[class*=language-] .token.comment,code[class*=language-] .token.doctype,code[class*=language-] .token.prolog,pre[class*=language-] .token.cdata,pre[class*=language-] .token.comment,pre[class*=language-] .token.doctype,pre[class*=language-] .token.prolog{color:#9ca3b0;font-style:italic}code[class*=language-] .token.punctuation,pre[class*=language-] .token.punctuation{color:#9ca3b0}code[class*=language-] .namespace,pre[class*=language-] .namespace{opacity:.7}code[class*=language-] .token.constant,pre[class*=language-] .token.constant{color:#c16161}code[class*=language-] .token.boolean,code[class*=language-] .token.function-name,code[class*=language-] .token.number,pre[class*=language-] .token.boolean,pre[class*=language-] .token.function-name,pre[class*=language-] .token.number{color:#c16161}code[class*=language-] .token.tag,pre[class*=language-] .token.tag{color:#ac4343}code[class*=language-] .token.symbol,pre[class*=language-] .token.symbol{color:#8f932b}code[class*=language-] .token.selector,pre[class*=language-] .token.selector{color:#d08e25}code[class*=language-] .token.attr-name,pre[class*=language-] .token.attr-name{color:#d08e25}code[class*=language-] .token.string,pre[class*=language-] .token.string{background-color:rgba(255,204,0,.03);color:rgba(106,68,28,.77)}code[class*=language-] .token.char,pre[class*=language-] .token.char{color:#8f932b}code[class*=language-] .token.url,pre[class*=language-] .token.url{color:#d08e25}code[class*=language-] .token.atrule,code[class*=language-] .token.attr-value,code[class*=language-] .token.keyword,pre[class*=language-] .token.atrule,pre[class*=language-] .token.attr-value,pre[class*=language-] .token.keyword{color:#8f932b}code[class*=language-] .token.function,pre[class*=language-] .token.function{color:#d08e25}code[class*=language-] .token.class-name,pre[class*=language-] .token.class-name{color:#2b3f6a}code[class*=language-] .token.variable,pre[class*=language-] .token.variable{color:#5e78e1}code[class*=language-] .token.important,code[class*=language-] .token.regex,pre[class*=language-] .token.important,pre[class*=language-] .token.regex{color:#379566}code[class*=language-] .token.bold,code[class*=language-] .token.important,pre[class*=language-] .token.bold,pre[class*=language-] .token.important{font-weight:700}code[class*=language-] .token.italic,pre[class*=language-] .token.italic{font-style:italic}code[class*=language-] .token.entity,pre[class*=language-] .token.entity{cursor:help}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}.emoji{height:.8em}body{font-size:16px;background-color:#f3f2ee;font-family:'PT Serif','Times New Roman',Times;color:#1f0909;line-height:1.5em}body ol,body ul{list-style:none}body blockquote,body q{quotes:none}body blockquote:after,body blockquote:before,body q:after,body q:before{content:'';content:none}body table{border-collapse:collapse;border-spacing:0}body h1,body h2,body h3,body h4,body h5,body h6{font-weight:700}body h1{font-size:1.875em;line-height:1.6em;margin-top:2em}body h2,body h3{font-size:1.3125em;line-height:1.15;margin-top:2.285714em;margin-bottom:1.15em}body h3{font-weight:400}body h4{font-size:1.125em;margin-top:2.67em}body h5,body h6{font-size:1em}body h1{border-bottom:1px solid;margin-bottom:1.875em;padding-bottom:.8125em}body a{text-decoration:none;color:#065588}body a:active,body a:hover{text-decoration:underline}body .md-fences,body blockquote,body p{margin-bottom:1.5em}body h1,body h2,body h3,body h4,body h5,body h6{margin-bottom:1.5em}body blockquote{font-style:italic;border-left:5px solid;margin-left:2em;padding-left:1em}body ol,body ul{margin:0 0 1.5em 1.5em}body ol li{list-style-type:decimal;list-style-position:outside}body ul li{list-style-type:disc;list-style-position:outside}body li>p{margin-top:0;margin-bottom:0}body .md-after,body .md-before,body .md-meta{color:#999}body table{margin-bottom:1.5em;font-size:1em}body tfoot th,body thead th{padding:.25em .25em .25em .4em;text-transform:uppercase}body th{text-align:left}body td{vertical-align:top;padding:.25em .25em .25em .4em}body .md-fences,body code{color:inherit;background-color:#dadada;padding-left:1ch;padding-right:1ch}body pre code{background-color:inherit}body .md-fences{margin-left:2em;margin-bottom:3em}body .md-fences .CodeMirror.CodeMirror-wrap{top:-.8em}body code,body pre,body tt{font-size:.875em;line-height:1.714285em}body h1{line-height:1.3em;font-weight:400;margin-bottom:.5em}body p+ol,body p+ul{margin-top:-1em}body h3+ol,body h3+ul,body h4+ol,body h4+ul,body h5+ol,body h5+ul,body h6+ol,body h6+ul{margin-top:.5em}body li>ol,body li>ul{margin-top:inherit}body h2,body h3{margin-bottom:.75em}body hr{border-top:none;border-right:none;border-bottom:1px solid;border-left:none}body h1{border-color:#c5c5c5}body blockquote{border-color:#bababa;color:#656565;background-color:#e6e4dc}body thead.md-table-edit{background-color:transparent}body thead{background-color:#dadada}body tr:nth-child(even){background:#e8e7e7}body hr{border-color:#c5c5c5}body .task-list{padding-left:1rem}body .task-list-item{list-style-type:none;margin-left:-1.8em}body .task-list-item .task-list-item-checkbox{margin-right:.8em}body .task-list-item input:before{content:'\221A';display:inline-block;width:1.25rem;height:1.5rem;vertical-align:middle;text-align:center;color:#ddd;background-color:#f3f2ee}body .task-list-item input:checked:before,body .task-list-item input[checked]:before{color:inherit}body img{max-width:100%}body kbd{color:#1f0909}
    /* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

    </style>
    
    <!-- The content below will be included at the end of the <head> element. --><html><head><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body></body></html>
  </head>
  <body for="html-export">
    <div class="crossnote markdown-preview">
    <html><head></head><body><div>
<link rel="stylesheet" href="Agda.css">
<center><a href="./NORelations.html">上一章</a>  | <a href="">下一章</a> </center>
<h1 id="相等性与等式推理" ebook-toc-level-1="" heading="相等性与等式推理 ">相等性与等式推理 </h1>

<div class="md-toc">
<details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#相等性与等式推理" class="md-toc-link"><p>相等性与等式推理</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#相等性" class="md-toc-link">
            <p>相等性</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#相等性是等价关系" class="md-toc-link">
            <p>相等性是等价关系</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#合同性和替换性" class="md-toc-link">
            <p>合同性和替换性</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#等式链" class="md-toc-link">
            <p>等式链</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#莱布尼兹leibniz相等性与层级" class="md-toc-link">
            <p>莱布尼兹(Leibniz)相等性与层级</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#全体多态" class="md-toc-link">
            <p>全体多态</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#标准库" class="md-toc-link">
            <p>标准库</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#习题参考" class="md-toc-link"><p>习题参考</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#练习-reasoning延伸" class="md-toc-link">
            <p>练习<code>≤-Reasoning</code>(延伸)</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    
</div>
<pre data-role="codeBlock" data-info="txt" class="language-txt txt"><code>本章使用的 Unicode 符号：
    ≡  U+2261  等同于 (\==, \equiv)
    ⟨  U+27E8  数学左尖括号 (\&lt;)
    ⟩  U+27E9  数学右尖括号 (\&gt;)
    ∎  U+220E  证毕 (\qed)
    ≐  U+2250  趋近于极限 (\.=)
    ℓ  U+2113  手写小写 L (\ell)
    ⊔  U+2294  正方形向上开口 (\lub)
    ₀  U+2080  下标 0 (\_0)
    ₁  U+2081  下标 1 (\_1)
    ₂  U+2082  下标 2 (\_2)
</code></pre><p>本章将讨论前面使用过的相等性，此前我们将其作为基本的运算，下面会说明如何将其定义为一个归纳数据类型。</p>
<h2 id="相等性" ebook-toc-level-2="" heading="相等性 ">相等性 </h2>
<p>下面进行相等性的定义：</p>
<pre class="Agda"><a id="410" class="Keyword" href="./">data</a> <a id="_≡_" href="./"></a><a id="415" href="./NOEquality.html#415" class="Datatype Operator">_≡_</a> <a id="419" class="Symbol" href="./">{</a><a id="420" href="./NOEquality.html#420" class="Bound">A</a> <a id="422" class="Symbol" href="./">:</a> <a id="424" href="./Agda.Primitive.html#388" class="Primitive">Set</a><a id="427" class="Symbol" href="./">}</a> <a id="429" class="Symbol" href="./">(</a><a id="430" href="./NOEquality.html#430" class="Bound">x</a> <a id="432" class="Symbol" href="./">:</a> <a id="434" href="./NOEquality.html#420" class="Bound">A</a><a id="435" class="Symbol" href="./">)</a> <a id="437" class="Symbol" href="./">:</a> <a id="439" href="./NOEquality.html#420" class="Bound">A</a> <a id="441" class="Symbol" href="./">→</a> <a id="443" href="./Agda.Primitive.html#388" class="Primitive">Set</a> <a id="447" class="Keyword" href="./">where</a> 
    <a id="_≡_.refl" href="./"></a><a id="458" href="./NOEquality.html#458" class="InductiveConstructor">refl</a> <a id="463" class="Symbol" href="./">:</a> <a id="465" href="./NOEquality.html#430" class="Bound">x</a> <a id="467" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="469" href="./NOEquality.html#430" class="Bound">x</a> 
</pre>
<p>对于任意类型<code>A</code>和任意类型为<code>A</code>的值<code>x</code>，构造子<code>refl</code>提供了<code>x ≡ x</code>的证明。</p>
<p>这里使用了混合参数化和索引的数据类型（如上一章所说），一方面，应当尽量使用 <em><strong>参数(Parameter)</strong></em> 而非索引；另一方面，由于必须保证第二个 <em><strong>参数(Argument)</strong></em> 与第一个 <em><strong>参数(Argument)</strong></em> 一致，因此必须使用索引。</p>
<blockquote>
<p>这里Parameter指数据类型声明的形参，而Argument指实际传入的参数（实参）</p>
</blockquote>
<p>类似小于等于<code>_≤_</code>，相等性关系的优先级也应当不如其他算术运算符紧密，且相等性也不是结合的，因此定义优先级如下：</p>
<pre class="Agda"><a id="777" class="Keyword" href="./">infix</a> <a id="783" class="Number" href="./">4</a> <a id="785" href="./NOEquality.html#415" class="Datatype Operator">_≡_</a>
</pre>
<h2 id="相等性是等价关系" ebook-toc-level-2="" heading="相等性是等价关系 ">相等性是等价关系 </h2>
<p>一个等价关系应当满足自反性，对称性与传递性，关于自反性和传递性的定义于上一章已经给出，下面给出对称性的数学定义：</p>
<ul>
<li><em><strong>对称性(symmetric)</strong></em> : 对于所有的<code>m</code>和<code>n</code>，以及关系<code>R</code>，如果<code>mRn</code>成立，则<code>nRm</code>成立。</li>
</ul>
<p>因此要想证明相等性是等价关系，只需要证明它满足以上三种性质。</p>
<p>对于自反性，已经在相等性定义中由构造子<code>refl</code>给出，无需证明。</p>
<p>对于对称性的证明如下：</p>
<pre class="Agda"><a id="sym" href="./"></a><a id="1022" href="./NOEquality.html#1022" class="Function">sym</a> <a id="1026" class="Symbol" href="./">:</a> <a id="1028" class="Symbol" href="./">∀</a> <a id="1030" class="Symbol" href="./">{</a><a id="1031" href="./NOEquality.html#1031" class="Bound">A</a> <a id="1033" class="Symbol" href="./">:</a> <a id="1035" href="./Agda.Primitive.html#388" class="Primitive">Set</a><a id="1038" class="Symbol" href="./">}</a> <a id="1040" class="Symbol" href="./">{</a><a id="1041" href="./NOEquality.html#1041" class="Bound">x</a> <a id="1043" href="./NOEquality.html#1043" class="Bound">y</a> <a id="1045" class="Symbol" href="./">:</a> <a id="1047" href="./NOEquality.html#1031" class="Bound">A</a><a id="1048" class="Symbol" href="./">}</a> 
    <a id="1055" class="Symbol" href="./">→</a> <a id="1057" href="./NOEquality.html#1041" class="Bound">x</a> <a id="1059" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="1061" href="./NOEquality.html#1043" class="Bound">y</a> 
    <a id="1068" class="Comment" href="./">-------- </a>
    <a id="1082" class="Symbol" href="./">→</a> <a id="1084" href="./NOEquality.html#1043" class="Bound">y</a> <a id="1086" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="1088" href="./NOEquality.html#1041" class="Bound">x</a> 
<a id="1091" href="./NOEquality.html#1022" class="Function">sym</a> <a id="1095" href="./NOEquality.html#458" class="InductiveConstructor">refl</a> <a id="1100" class="Symbol" href="./">=</a> <a id="1102" href="./NOEquality.html#458" class="InductiveConstructor">refl</a> 
</pre>
<p><code>y ≡ x</code>成立的条件是<code>x ≡ y</code>，而它成立的证据只能由<code>refl</code>给出（或者说<code>_≡_</code>在进行模式匹配时只有一种模式），此时<code>y</code>被限制与<code>x</code>相等，因此待证明的结论就化为了<code>x ≡ x</code>，我们只需要绑定一个为此提供证据的项(即<code>refl</code>)即可。</p>
<p>下面证明传递性：</p>
<pre class="Agda"><a id="trans" href="./"></a><a id="1262" href="./NOEquality.html#1262" class="Function">trans</a> <a id="1268" class="Symbol" href="./">:</a> <a id="1270" class="Symbol" href="./">∀</a> <a id="1272" class="Symbol" href="./">{</a><a id="1273" href="./NOEquality.html#1273" class="Bound">A</a> <a id="1275" class="Symbol" href="./">:</a> <a id="1277" href="./Agda.Primitive.html#388" class="Primitive">Set</a><a id="1280" class="Symbol" href="./">}</a> <a id="1282" class="Symbol" href="./">{</a><a id="1283" href="./NOEquality.html#1283" class="Bound">x</a> <a id="1285" href="./NOEquality.html#1285" class="Bound">y</a> <a id="1287" href="./NOEquality.html#1287" class="Bound">z</a> <a id="1289" class="Symbol" href="./">:</a> <a id="1291" href="./NOEquality.html#1273" class="Bound">A</a><a id="1292" class="Symbol" href="./">}</a> 
    <a id="1299" class="Symbol" href="./">→</a> <a id="1301" href="./NOEquality.html#1283" class="Bound">x</a> <a id="1303" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="1305" href="./NOEquality.html#1285" class="Bound">y</a> 
    <a id="1312" class="Symbol" href="./">→</a> <a id="1314" href="./NOEquality.html#1285" class="Bound">y</a> <a id="1316" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="1318" href="./NOEquality.html#1287" class="Bound">z</a> 
    <a id="1325" class="Comment" href="./">------- </a>
    <a id="1338" class="Symbol" href="./">→</a> <a id="1340" href="./NOEquality.html#1283" class="Bound">x</a> <a id="1342" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="1344" href="./NOEquality.html#1287" class="Bound">z</a> 
<a id="1347" href="./NOEquality.html#1262" class="Function">trans</a> <a id="1353" href="./NOEquality.html#458" class="InductiveConstructor">refl</a> <a id="1358" href="./NOEquality.html#458" class="InductiveConstructor">refl</a> <a id="1363" class="Symbol" href="./">=</a> <a id="1365" href="./NOEquality.html#458" class="InductiveConstructor">refl</a> 
</pre>
<p>传递性的证明也比较直接，结论成立的条件<code>x ≡ y</code>和<code>y ≡ z</code>只能由<code>refl</code>给出，因此<code>y</code>和<code>z</code>被限制为了<code>x</code>，结论化为<code>x ≡ x</code>可由<code>refl</code>给出。</p>
<h2 id="合同性和替换性" ebook-toc-level-2="" heading="合同性和替换性 ">合同性和替换性 </h2>
<p>相等性还满足 <em><strong>合同性(Congruence)</strong></em>，即： 对任意的<code>x</code>和<code>y</code>，以及函数<code>f</code>，如果<code>x ≡ y</code>，则<code>f x ≡ f y</code>。</p>
<p>下面证明合同性：</p>
<pre class="Agda"><a id="cong" href="./"></a><a id="1572" href="./NOEquality.html#1572" class="Function">cong</a> <a id="1577" class="Symbol" href="./">:</a> <a id="1579" class="Symbol" href="./">∀</a> <a id="1581" class="Symbol" href="./">{</a><a id="1582" href="./NOEquality.html#1582" class="Bound">A</a> <a id="1584" href="./NOEquality.html#1584" class="Bound">B</a> <a id="1586" class="Symbol" href="./">:</a> <a id="1588" href="./Agda.Primitive.html#388" class="Primitive">Set</a><a id="1591" class="Symbol" href="./">}</a> <a id="1593" class="Symbol" href="./">(</a><a id="1594" href="./NOEquality.html#1594" class="Bound">f</a> <a id="1596" class="Symbol" href="./">:</a> <a id="1598" href="./NOEquality.html#1582" class="Bound">A</a> <a id="1600" class="Symbol" href="./">→</a> <a id="1602" href="./NOEquality.html#1584" class="Bound">B</a><a id="1603" class="Symbol" href="./">)</a> <a id="1605" class="Symbol" href="./">{</a><a id="1606" href="./NOEquality.html#1606" class="Bound">x</a> <a id="1608" href="./NOEquality.html#1608" class="Bound">y</a> <a id="1610" class="Symbol" href="./">:</a> <a id="1612" href="./NOEquality.html#1582" class="Bound">A</a><a id="1613" class="Symbol" href="./">}</a> 
    <a id="1620" class="Symbol" href="./">→</a> <a id="1622" href="./NOEquality.html#1606" class="Bound">x</a> <a id="1624" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="1626" href="./NOEquality.html#1608" class="Bound">y</a> 
    <a id="1633" class="Comment" href="./">-------- </a>
    <a id="1647" class="Symbol" href="./">→</a> <a id="1649" href="./NOEquality.html#1594" class="Bound">f</a> <a id="1651" href="./NOEquality.html#1606" class="Bound">x</a> <a id="1653" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="1655" href="./NOEquality.html#1594" class="Bound">f</a> <a id="1657" href="./NOEquality.html#1608" class="Bound">y</a> 
<a id="1660" href="./NOEquality.html#1572" class="Function">cong</a> <a id="1665" href="./NOEquality.html#1665" class="Bound">f</a> <a id="1667" href="./NOEquality.html#458" class="InductiveConstructor">refl</a> <a id="1672" class="Symbol" href="./">=</a> <a id="1674" href="./NOEquality.html#458" class="InductiveConstructor">refl</a>
</pre>
<p>合同性还可以延伸到二元函数或者多元函数，以二元函数为例：</p>
<pre class="Agda"><a id="cong₂" href="./"></a><a id="1723" href="./NOEquality.html#1723" class="Function">cong₂</a> <a id="1729" class="Symbol" href="./">:</a> <a id="1731" class="Symbol" href="./">∀</a> <a id="1733" class="Symbol" href="./">{</a><a id="1734" href="./NOEquality.html#1734" class="Bound">A</a> <a id="1736" href="./NOEquality.html#1736" class="Bound">B</a> <a id="1738" href="./NOEquality.html#1738" class="Bound">C</a> <a id="1740" class="Symbol" href="./">:</a> <a id="1742" href="./Agda.Primitive.html#388" class="Primitive">Set</a><a id="1745" class="Symbol" href="./">}</a> <a id="1747" class="Symbol" href="./">(</a><a id="1748" href="./NOEquality.html#1748" class="Bound">f</a> <a id="1750" class="Symbol" href="./">:</a> <a id="1752" href="./NOEquality.html#1734" class="Bound">A</a> <a id="1754" class="Symbol" href="./">→</a> <a id="1756" href="./NOEquality.html#1736" class="Bound">B</a> <a id="1758" class="Symbol" href="./">→</a> <a id="1760" href="./NOEquality.html#1738" class="Bound">C</a><a id="1761" class="Symbol" href="./">)</a> <a id="1763" class="Symbol" href="./">{</a><a id="1764" href="./NOEquality.html#1764" class="Bound">x</a> <a id="1766" href="./NOEquality.html#1766" class="Bound">y</a> <a id="1768" class="Symbol" href="./">:</a> <a id="1770" href="./NOEquality.html#1734" class="Bound">A</a><a id="1771" class="Symbol" href="./">}</a> <a id="1773" class="Symbol" href="./">{</a><a id="1774" href="./NOEquality.html#1774" class="Bound">u</a> <a id="1776" href="./NOEquality.html#1776" class="Bound">v</a> <a id="1778" class="Symbol" href="./">:</a> <a id="1780" href="./NOEquality.html#1736" class="Bound">B</a><a id="1781" class="Symbol" href="./">}</a>
    <a id="1787" class="Symbol" href="./">→</a> <a id="1789" href="./NOEquality.html#1764" class="Bound">x</a> <a id="1791" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="1793" href="./NOEquality.html#1766" class="Bound">y</a> 
    <a id="1800" class="Symbol" href="./">→</a> <a id="1802" href="./NOEquality.html#1774" class="Bound">u</a> <a id="1804" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="1806" href="./NOEquality.html#1776" class="Bound">v</a> 
    <a id="1813" class="Comment" href="./">--------------- </a>
    <a id="1834" class="Symbol" href="./">→</a> <a id="1836" href="./NOEquality.html#1748" class="Bound">f</a> <a id="1838" href="./NOEquality.html#1764" class="Bound">x</a> <a id="1840" href="./NOEquality.html#1774" class="Bound">u</a> <a id="1842" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="1844" href="./NOEquality.html#1748" class="Bound">f</a> <a id="1846" href="./NOEquality.html#1766" class="Bound">y</a> <a id="1848" href="./NOEquality.html#1776" class="Bound">v</a>
<a id="1850" href="./NOEquality.html#1723" class="Function">cong₂</a> <a id="1856" href="./NOEquality.html#1856" class="Bound">f</a> <a id="1858" href="./NOEquality.html#458" class="InductiveConstructor">refl</a> <a id="1863" href="./NOEquality.html#458" class="InductiveConstructor">refl</a> <a id="1868" class="Symbol" href="./">=</a> <a id="1870" href="./NOEquality.html#458" class="InductiveConstructor">refl</a> 
</pre>
<p>对于相等的函数而言，也满足合同性：</p>
<pre class="Agda"><a id="cong-app" href="./"></a><a id="1910" href="./NOEquality.html#1910" class="Function">cong-app</a> <a id="1919" class="Symbol" href="./">:</a> <a id="1921" class="Symbol" href="./">∀</a> <a id="1923" class="Symbol" href="./">{</a><a id="1924" href="./NOEquality.html#1924" class="Bound">A</a> <a id="1926" href="./NOEquality.html#1926" class="Bound">B</a> <a id="1928" class="Symbol" href="./">:</a> <a id="1930" href="./Agda.Primitive.html#388" class="Primitive">Set</a><a id="1933" class="Symbol" href="./">}</a> <a id="1935" class="Symbol" href="./">{</a><a id="1936" href="./NOEquality.html#1936" class="Bound">f</a> <a id="1938" href="./NOEquality.html#1938" class="Bound">g</a> <a id="1940" class="Symbol" href="./">:</a> <a id="1942" href="./NOEquality.html#1924" class="Bound">A</a> <a id="1944" class="Symbol" href="./">→</a> <a id="1946" href="./NOEquality.html#1926" class="Bound">B</a><a id="1947" class="Symbol" href="./">}</a>
    <a id="1953" class="Symbol" href="./">→</a> <a id="1955" href="./NOEquality.html#1936" class="Bound">f</a> <a id="1957" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="1959" href="./NOEquality.html#1938" class="Bound">g</a> 
    <a id="1966" class="Comment" href="./">-----------------------------</a>
    <a id="2000" class="Symbol" href="./">→</a> <a id="2002" class="Symbol" href="./">∀</a> <a id="2004" class="Symbol" href="./">(</a><a id="2005" href="./NOEquality.html#2005" class="Bound">x</a> <a id="2007" class="Symbol" href="./">:</a> <a id="2009" href="./NOEquality.html#1924" class="Bound">A</a><a id="2010" class="Symbol" href="./">)</a> <a id="2012" class="Symbol" href="./">→</a> <a id="2014" href="./NOEquality.html#1936" class="Bound">f</a> <a id="2016" href="./NOEquality.html#2005" class="Bound">x</a> <a id="2018" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="2020" href="./NOEquality.html#1938" class="Bound">g</a> <a id="2022" href="./NOEquality.html#2005" class="Bound">x</a> 
<a id="2025" href="./NOEquality.html#1910" class="Function">cong-app</a> <a id="2034" href="./NOEquality.html#458" class="InductiveConstructor">refl</a> <a id="2039" href="./NOEquality.html#2039" class="Bound">x</a> <a id="2041" class="Symbol" href="./">=</a> <a id="2043" href="./NOEquality.html#458" class="InductiveConstructor">refl</a>
</pre>
<p>相等性也满足 <em><strong>替换性(Substitution)</strong></em>，如果两个值相等，其中一个满足某个谓词，那么另一个值也满足该谓词。</p>
<pre class="Agda"><a id="subst" href="./"></a><a id="2128" href="./NOEquality.html#2128" class="Function">subst</a> <a id="2134" class="Symbol" href="./">:</a> <a id="2136" class="Symbol" href="./">∀</a> <a id="2138" class="Symbol" href="./">{</a><a id="2139" href="./NOEquality.html#2139" class="Bound">A</a> <a id="2141" class="Symbol" href="./">:</a> <a id="2143" href="./Agda.Primitive.html#388" class="Primitive">Set</a><a id="2146" class="Symbol" href="./">}</a> <a id="2148" class="Symbol" href="./">{</a><a id="2149" href="./NOEquality.html#2149" class="Bound">x</a> <a id="2151" href="./NOEquality.html#2151" class="Bound">y</a> <a id="2153" class="Symbol" href="./">:</a> <a id="2155" href="./NOEquality.html#2139" class="Bound">A</a><a id="2156" class="Symbol" href="./">}</a> <a id="2158" class="Symbol" href="./">(</a><a id="2159" href="./NOEquality.html#2159" class="Bound">P</a> <a id="2161" class="Symbol" href="./">:</a> <a id="2163" href="./NOEquality.html#2139" class="Bound">A</a> <a id="2165" class="Symbol" href="./">→</a> <a id="2167" href="./Agda.Primitive.html#388" class="Primitive">Set</a><a id="2170" class="Symbol" href="./">)</a>
    <a id="2176" class="Symbol" href="./">→</a> <a id="2178" href="./NOEquality.html#2149" class="Bound">x</a> <a id="2180" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="2182" href="./NOEquality.html#2151" class="Bound">y</a> 
    <a id="2189" class="Symbol" href="./">→</a> <a id="2191" href="./NOEquality.html#2159" class="Bound">P</a> <a id="2193" href="./NOEquality.html#2149" class="Bound">x</a> 
    <a id="2200" class="Comment" href="./">-------</a>
    <a id="2212" class="Symbol" href="./">→</a> <a id="2214" href="./NOEquality.html#2159" class="Bound">P</a> <a id="2216" href="./NOEquality.html#2151" class="Bound">y</a> 
<a id="2219" href="./NOEquality.html#2128" class="Function">subst</a> <a id="2225" href="./NOEquality.html#2225" class="Bound">P</a> <a id="2227" href="./NOEquality.html#458" class="InductiveConstructor">refl</a> <a id="2232" href="./NOEquality.html#2232" class="Bound">px</a> <a id="2235" class="Symbol" href="./">=</a> <a id="2237" href="./NOEquality.html#2232" class="Bound">px</a>
</pre>
<p>谓词<code>P</code>是对于类型（亦命题）<code>A</code>参数化的一个类型，可以参考上一章中关于奇偶性的定义。</p>
<h2 id="等式链" ebook-toc-level-2="" heading="等式链 ">等式链 </h2>
<p>完成了有关相等性及其性质的定义后，我们可以开始讨论如何定义等式链。由于等式链涉及一系列的运算符号，可以将其封装到一个 <em><strong>模块(module)</strong></em> 中，这里为了方便对应标准库，将模块命名为<code>≡-Reasoning</code>。</p>
<pre class="Agda"><a id="2421" class="Keyword" href="./">module</a> <a id="≡-Reasoning" href="./"></a><a id="2428" href="./NOEquality.html#2428" class="Module">≡-Reasoning</a> <a id="2440" class="Symbol" href="./">{</a><a id="2441" href="./NOEquality.html#2441" class="Bound">A</a> <a id="2443" class="Symbol" href="./">:</a> <a id="2445" href="./Agda.Primitive.html#388" class="Primitive">Set</a><a id="2448" class="Symbol" href="./">}</a> <a id="2450" class="Keyword" href="./">where</a> 

    <a id="2462" class="Keyword" href="./">infix</a> <a id="2468" class="Number" href="./">1</a> <a id="2470" href="./NOEquality.html#2524" class="Function Operator">begin_</a> 
    <a id="2482" class="Keyword" href="./">infixr</a> <a id="2489" class="Number" href="./">2</a> <a id="2491" href="./NOEquality.html#2623" class="Function Operator">_≡⟨⟩_</a> <a id="2497" href="./NOEquality.html#2729" class="Function Operator">_≡⟨_⟩_</a>
    <a id="2508" class="Keyword" href="./">infix</a> <a id="2514" class="Number" href="./">3</a> <a id="2516" href="./NOEquality.html#2870" class="Function Operator">_∎</a>

    <a id="≡-Reasoning.begin_" href="./"></a><a id="2524" href="./NOEquality.html#2524" class="Function Operator">begin_</a> <a id="2531" class="Symbol" href="./">:</a> <a id="2533" class="Symbol" href="./">∀</a> <a id="2535" class="Symbol" href="./">{</a><a id="2536" href="./NOEquality.html#2536" class="Bound">x</a> <a id="2538" href="./NOEquality.html#2538" class="Bound">y</a> <a id="2540" class="Symbol" href="./">:</a> <a id="2542" href="./NOEquality.html#2441" class="Bound">A</a><a id="2543" class="Symbol" href="./">}</a>
        <a id="2553" class="Symbol" href="./">→</a> <a id="2555" href="./NOEquality.html#2536" class="Bound">x</a> <a id="2557" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="2559" href="./NOEquality.html#2538" class="Bound">y</a> 
        <a id="2570" class="Comment" href="./">-------- </a>
        <a id="2588" class="Symbol" href="./">→</a> <a id="2590" href="./NOEquality.html#2536" class="Bound">x</a> <a id="2592" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="2594" href="./NOEquality.html#2538" class="Bound">y</a> 
    <a id="2601" href="./NOEquality.html#2524" class="Function Operator">begin</a> <a id="2607" href="./NOEquality.html#2607" class="Bound">x≡y</a> <a id="2611" class="Symbol" href="./">=</a> <a id="2613" href="./NOEquality.html#2607" class="Bound">x≡y</a> 

    <a id="≡-Reasoning._≡⟨⟩_" href="./"></a><a id="2623" href="./NOEquality.html#2623" class="Function Operator">_≡⟨⟩_</a> <a id="2629" class="Symbol" href="./">:</a> <a id="2631" class="Symbol" href="./">∀</a> <a id="2633" class="Symbol" href="./">(</a><a id="2634" href="./NOEquality.html#2634" class="Bound">x</a> <a id="2636" class="Symbol" href="./">:</a> <a id="2638" href="./NOEquality.html#2441" class="Bound">A</a><a id="2639" class="Symbol" href="./">)</a> <a id="2641" class="Symbol" href="./">{</a><a id="2642" href="./NOEquality.html#2642" class="Bound">y</a> <a id="2644" class="Symbol" href="./">:</a> <a id="2646" href="./NOEquality.html#2441" class="Bound">A</a><a id="2647" class="Symbol" href="./">}</a> 
        <a id="2658" class="Symbol" href="./">→</a> <a id="2660" href="./NOEquality.html#2634" class="Bound">x</a> <a id="2662" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="2664" href="./NOEquality.html#2642" class="Bound">y</a> 
        <a id="2675" class="Comment" href="./">--------- </a>
        <a id="2694" class="Symbol" href="./">→</a> <a id="2696" href="./NOEquality.html#2634" class="Bound">x</a> <a id="2698" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="2700" href="./NOEquality.html#2642" class="Bound">y</a> 
    <a id="2707" href="./NOEquality.html#2707" class="Bound">x</a> <a id="2709" href="./NOEquality.html#2623" class="Function Operator">≡⟨⟩</a> <a id="2713" href="./NOEquality.html#2713" class="Bound">x≡y</a> <a id="2717" class="Symbol" href="./">=</a> <a id="2719" href="./NOEquality.html#2713" class="Bound">x≡y</a> 

    <a id="≡-Reasoning._≡⟨_⟩_" href="./"></a><a id="2729" href="./NOEquality.html#2729" class="Function Operator">_≡⟨_⟩_</a> <a id="2736" class="Symbol" href="./">:</a> <a id="2738" class="Symbol" href="./">∀</a> <a id="2740" class="Symbol" href="./">(</a><a id="2741" href="./NOEquality.html#2741" class="Bound">x</a> <a id="2743" class="Symbol" href="./">:</a> <a id="2745" href="./NOEquality.html#2441" class="Bound">A</a><a id="2746" class="Symbol" href="./">)</a> <a id="2748" class="Symbol" href="./">{</a><a id="2749" href="./NOEquality.html#2749" class="Bound">y</a> <a id="2751" href="./NOEquality.html#2751" class="Bound">z</a> <a id="2753" class="Symbol" href="./">:</a> <a id="2755" href="./NOEquality.html#2441" class="Bound">A</a><a id="2756" class="Symbol" href="./">}</a> 
        <a id="2767" class="Symbol" href="./">→</a> <a id="2769" href="./NOEquality.html#2741" class="Bound">x</a> <a id="2771" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="2773" href="./NOEquality.html#2749" class="Bound">y</a> 
        <a id="2784" class="Symbol" href="./">→</a> <a id="2786" href="./NOEquality.html#2749" class="Bound">y</a> <a id="2788" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="2790" href="./NOEquality.html#2751" class="Bound">z</a> 
        <a id="2801" class="Comment" href="./">--------- </a>
        <a id="2820" class="Symbol" href="./">→</a> <a id="2822" href="./NOEquality.html#2741" class="Bound">x</a> <a id="2824" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="2826" href="./NOEquality.html#2751" class="Bound">z</a> 
    <a id="2833" href="./NOEquality.html#2833" class="Bound">x</a> <a id="2835" href="./NOEquality.html#2729" class="Function Operator">≡⟨</a> <a id="2838" href="./NOEquality.html#2838" class="Bound">x≡y</a> <a id="2842" href="./NOEquality.html#2729" class="Function Operator">⟩</a> <a id="2844" href="./NOEquality.html#2844" class="Bound">y≡z</a> <a id="2848" class="Symbol" href="./">=</a> <a id="2850" href="./NOEquality.html#1262" class="Function">trans</a> <a id="2856" href="./NOEquality.html#2838" class="Bound">x≡y</a> <a id="2860" href="./NOEquality.html#2844" class="Bound">y≡z</a> 

    <a id="≡-Reasoning._∎" href="./"></a><a id="2870" href="./NOEquality.html#2870" class="Function Operator">_∎</a> <a id="2873" class="Symbol" href="./">:</a> <a id="2875" class="Symbol" href="./">∀</a> <a id="2877" class="Symbol" href="./">(</a><a id="2878" href="./NOEquality.html#2878" class="Bound">x</a> <a id="2880" class="Symbol" href="./">:</a> <a id="2882" href="./NOEquality.html#2441" class="Bound">A</a><a id="2883" class="Symbol" href="./">)</a>
        <a id="2893" class="Comment" href="./">----- </a>
        <a id="2908" class="Symbol" href="./">→</a> <a id="2910" href="./NOEquality.html#2878" class="Bound">x</a> <a id="2912" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="2914" href="./NOEquality.html#2878" class="Bound">x</a> 
    <a id="2921" href="./NOEquality.html#2921" class="Bound">x</a> <a id="2923" href="./NOEquality.html#2870" class="Function Operator">∎</a> <a id="2925" class="Symbol" href="./">=</a> <a id="2927" href="./NOEquality.html#458" class="InductiveConstructor">refl</a> 

<a id="2934" class="Keyword" href="./">open</a> <a id="2939" href="./NOEquality.html#2428" class="Module">≡-Reasoning</a>
</pre>
<p>一个嵌套模块包括了关键字<code>module</code>和后续的模块名（可包含隐式参数或显式参数），以及关键字<code>where</code>和模块中的内容（缩进的部分）。模块中可以包含任何形式声明，也可以包含其他模块。结束模块后，可通过<code>open</code>将嵌套模块中的全部定义导入当前的环境中。</p>
<p>上面的<code>≡-Reasoning</code>模块中的定义对应了前几章使用的标准库中的定义，根据定义不难发现：</p>
<ul>
<li>四个有关等式链推导的符号优先级不如相等性，因此均小于4</li>
<li>整个等式链从末端开始计算(<code>_∎</code>优先级最高)，然后从后向前依次计算(<code>_⟨⟩_</code>和<code>_⟨_⟩_</code>优先级次于<code>_∎</code>，且右结合)，直到等式链的初端(<code>begin_</code>优先级最低)</li>
<li>等式链的推导实际上是不断使用传递性的过程，最终使用相等性（即相等的自反性）证明的过程</li>
<li><code>_⟨⟩_</code>与<code>_⟨ refl ⟩_</code>效果相同</li>
</ul>
<p>最后值的一提的是，Agda总会认为化简结果相同的项是等同的，从而不对它们进行区分，这也是我们使用<code>_⟨⟩_</code>将不同式子串联起来的原因，我们可以根据自身需要对串联的式子进行合理的排列，以便符合人类阅读。</p>
<h2 id="莱布尼兹leibniz相等性与层级" ebook-toc-level-2="" heading="莱布尼兹(Leibniz)相等性与层级 ">莱布尼兹(Leibniz)相等性与层级 </h2>
<blockquote>
<p>我们使用的相等性断言的形式源于 Martin-Löf，于 1975 年发表。一个更早的形式源于莱布尼兹， 于 1686 年发表。莱布尼兹断言的相等性表示不可分辨的实体（Identity of Indiscernibles）： 两个对象相等当且仅当它们满足完全相同的性质。这条原理有时被称作莱布尼兹定律（Leibniz’ Law）， 与史波克定律紧密相关：「一个不造成区别的区别不是区别」。我们在这里定义莱布尼兹相等性， 并证明两个项满足莱布尼兹相等性当且仅当其满足 Martin-Löf 相等性。</p>
</blockquote>
<p>拉布尼兹相等性定义如下：</p>
<p>每个对于<code>x</code>成立的性质<code>P</code>对于<code>y</code>也成立，则认为<code>x</code>和<code>y</code>莱布尼兹相等，记作<code>x ≐ y</code>。</p>
<p>其Agda的定义如下：</p>
<pre class="Agda"><a id="_≐_" href="./"></a><a id="3799" href="./NOEquality.html#3799" class="Function Operator">_≐_</a> <a id="3803" class="Symbol" href="./">:</a> <a id="3805" class="Symbol" href="./">∀</a> <a id="3807" class="Symbol" href="./">{</a><a id="3808" href="./NOEquality.html#3808" class="Bound">A</a> <a id="3810" class="Symbol" href="./">:</a> <a id="3812" href="./Agda.Primitive.html#388" class="Primitive">Set</a><a id="3815" class="Symbol" href="./">}</a> <a id="3817" class="Symbol" href="./">(</a><a id="3818" href="./NOEquality.html#3818" class="Bound">x</a> <a id="3820" href="./NOEquality.html#3820" class="Bound">y</a> <a id="3822" class="Symbol" href="./">:</a> <a id="3824" href="./NOEquality.html#3808" class="Bound">A</a><a id="3825" class="Symbol" href="./">)</a> <a id="3827" class="Symbol" href="./">→</a> <a id="3829" href="./Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="3834" href="./NOEquality.html#3799" class="Function Operator">_≐_</a> <a id="3838" class="Symbol" href="./">{</a><a id="3839" href="./NOEquality.html#3839" class="Bound">A</a><a id="3840" class="Symbol" href="./">}</a> <a id="3842" href="./NOEquality.html#3842" class="Bound">x</a> <a id="3844" href="./NOEquality.html#3844" class="Bound">y</a> <a id="3846" class="Symbol" href="./">=</a> <a id="3848" class="Symbol" href="./">∀</a> <a id="3850" class="Symbol" href="./">(</a><a id="3851" href="./NOEquality.html#3851" class="Bound">P</a> <a id="3853" class="Symbol" href="./">:</a> <a id="3855" href="./NOEquality.html#3839" class="Bound">A</a> <a id="3857" class="Symbol" href="./">→</a> <a id="3859" href="./Agda.Primitive.html#388" class="Primitive">Set</a><a id="3862" class="Symbol" href="./">)</a> <a id="3864" class="Symbol" href="./">→</a> <a id="3866" href="./NOEquality.html#3851" class="Bound">P</a> <a id="3868" href="./NOEquality.html#3842" class="Bound">x</a> <a id="3870" class="Symbol" href="./">→</a> <a id="3872" href="./NOEquality.html#3851" class="Bound">P</a> <a id="3874" href="./NOEquality.html#3844" class="Bound">y</a>  
</pre>
<blockquote>
<p>由于需要提供隐式参数<code>A</code>，我们无法将等号左边写成<code>x ≐ y</code>的形式。</p>
</blockquote>
<p>注意类型签名中返回类型使用了<code>Set₁</code>而非<code>Set</code>，这是因为我们无法将<code>Set</code>赋予类型<code>Set</code>，否则会导致矛盾（例如Russell悖论或Girard悖论）。为了避免矛盾，我们引入了 <em><strong>层级(Level)</strong></em> ：<code>Setᵢ : Setᵢ₊₁</code>,其中<code>i</code>属于自然数。特别地，使用<code>Set</code>作为<code>Set₀</code>的简写。</p>
<p>莱布尼兹相等性也是等价关系，满足自反性，对称性和传递性。</p>
<pre class="Agda"><a id="refl-≐" href="./"></a><a id="4127" href="./NOEquality.html#4127" class="Function">refl-≐</a> <a id="4134" class="Symbol" href="./">:</a> <a id="4136" class="Symbol" href="./">∀</a> <a id="4138" class="Symbol" href="./">{</a><a id="4139" href="./NOEquality.html#4139" class="Bound">A</a> <a id="4141" class="Symbol" href="./">:</a> <a id="4143" href="./Agda.Primitive.html#388" class="Primitive">Set</a><a id="4146" class="Symbol" href="./">}</a> <a id="4148" class="Symbol" href="./">{</a><a id="4149" href="./NOEquality.html#4149" class="Bound">x</a> <a id="4151" class="Symbol" href="./">:</a> <a id="4153" href="./NOEquality.html#4139" class="Bound">A</a><a id="4154" class="Symbol" href="./">}</a>
    <a id="4160" class="Symbol" href="./">→</a> <a id="4162" href="./NOEquality.html#4149" class="Bound">x</a> <a id="4164" href="./NOEquality.html#3799" class="Function Operator">≐</a> <a id="4166" href="./NOEquality.html#4149" class="Bound">x</a> 
<a id="4169" href="./NOEquality.html#4127" class="Function">refl-≐</a> <a id="4176" href="./NOEquality.html#4176" class="Bound">P</a> <a id="4178" href="./NOEquality.html#4178" class="Bound">Px</a> <a id="4181" class="Symbol" href="./">=</a> <a id="4183" href="./NOEquality.html#4178" class="Bound">Px</a> 

<a id="trans-≐" href="./"></a><a id="4188" href="./NOEquality.html#4188" class="Function">trans-≐</a> <a id="4196" class="Symbol" href="./">:</a> <a id="4198" class="Symbol" href="./">∀</a> <a id="4200" class="Symbol" href="./">{</a><a id="4201" href="./NOEquality.html#4201" class="Bound">A</a> <a id="4203" class="Symbol" href="./">:</a> <a id="4205" href="./Agda.Primitive.html#388" class="Primitive">Set</a><a id="4208" class="Symbol" href="./">}</a> <a id="4210" class="Symbol" href="./">{</a><a id="4211" href="./NOEquality.html#4211" class="Bound">x</a> <a id="4213" href="./NOEquality.html#4213" class="Bound">y</a> <a id="4215" href="./NOEquality.html#4215" class="Bound">z</a> <a id="4217" class="Symbol" href="./">:</a> <a id="4219" href="./NOEquality.html#4201" class="Bound">A</a><a id="4220" class="Symbol" href="./">}</a>
    <a id="4226" class="Symbol" href="./">→</a> <a id="4228" href="./NOEquality.html#4211" class="Bound">x</a> <a id="4230" href="./NOEquality.html#3799" class="Function Operator">≐</a> <a id="4232" href="./NOEquality.html#4213" class="Bound">y</a> 
    <a id="4239" class="Symbol" href="./">→</a> <a id="4241" href="./NOEquality.html#4213" class="Bound">y</a> <a id="4243" href="./NOEquality.html#3799" class="Function Operator">≐</a> <a id="4245" href="./NOEquality.html#4215" class="Bound">z</a> 
    <a id="4252" class="Comment" href="./">--------</a>
    <a id="4265" class="Symbol" href="./">→</a> <a id="4267" href="./NOEquality.html#4211" class="Bound">x</a> <a id="4269" href="./NOEquality.html#3799" class="Function Operator">≐</a> <a id="4271" href="./NOEquality.html#4215" class="Bound">z</a> 
<a id="4274" href="./NOEquality.html#4188" class="Function">trans-≐</a> <a id="4282" href="./NOEquality.html#4282" class="Bound">x≐y</a> <a id="4286" href="./NOEquality.html#4286" class="Bound">y≐z</a> <a id="4290" href="./NOEquality.html#4290" class="Bound">P</a> <a id="4292" href="./NOEquality.html#4292" class="Bound">Px</a> <a id="4295" class="Symbol" href="./">=</a> <a id="4297" href="./NOEquality.html#4286" class="Bound">y≐z</a> <a id="4301" href="./NOEquality.html#4290" class="Bound">P</a> <a id="4303" class="Symbol" href="./">(</a><a id="4304" href="./NOEquality.html#4282" class="Bound">x≐y</a> <a id="4308" href="./NOEquality.html#4290" class="Bound">P</a> <a id="4310" href="./NOEquality.html#4292" class="Bound">Px</a><a id="4312" class="Symbol" href="./">)</a>

<a id="sym-≐" href="./"></a><a id="4315" href="./NOEquality.html#4315" class="Function">sym-≐</a> <a id="4321" class="Symbol" href="./">:</a> <a id="4323" class="Symbol" href="./">∀</a> <a id="4325" class="Symbol" href="./">{</a><a id="4326" href="./NOEquality.html#4326" class="Bound">A</a> <a id="4328" class="Symbol" href="./">:</a> <a id="4330" href="./Agda.Primitive.html#388" class="Primitive">Set</a><a id="4333" class="Symbol" href="./">}</a> <a id="4335" class="Symbol" href="./">{</a><a id="4336" href="./NOEquality.html#4336" class="Bound">x</a> <a id="4338" href="./NOEquality.html#4338" class="Bound">y</a> <a id="4340" class="Symbol" href="./">:</a> <a id="4342" href="./NOEquality.html#4326" class="Bound">A</a><a id="4343" class="Symbol" href="./">}</a>
    <a id="4349" class="Symbol" href="./">→</a> <a id="4351" href="./NOEquality.html#4336" class="Bound">x</a> <a id="4353" href="./NOEquality.html#3799" class="Function Operator">≐</a> <a id="4355" href="./NOEquality.html#4338" class="Bound">y</a> 
    <a id="4362" class="Comment" href="./">-------- </a>
    <a id="4376" class="Symbol" href="./">→</a> <a id="4378" href="./NOEquality.html#4338" class="Bound">y</a> <a id="4380" href="./NOEquality.html#3799" class="Function Operator">≐</a> <a id="4382" href="./NOEquality.html#4336" class="Bound">x</a> 
<a id="4385" href="./NOEquality.html#4315" class="Function">sym-≐</a> <a id="4391" class="Symbol" href="./">{</a><a id="4392" href="./NOEquality.html#4392" class="Bound">A</a><a id="4393" class="Symbol" href="./">}</a> <a id="4395" class="Symbol" href="./">{</a><a id="4396" href="./NOEquality.html#4396" class="Bound">x</a><a id="4397" class="Symbol" href="./">}</a> <a id="4399" class="Symbol" href="./">{</a><a id="4400" href="./NOEquality.html#4400" class="Bound">y</a><a id="4401" class="Symbol" href="./">}</a> <a id="4403" href="./NOEquality.html#4403" class="Bound">x≐y</a> <a id="4407" href="./NOEquality.html#4407" class="Bound">P</a> <a id="4409" class="Symbol" href="./">=</a> <a id="4411" href="./NOEquality.html#4521" class="Function">Qy</a> 
    <a id="4419" class="Keyword" href="./">where</a> 
        <a id="4434" href="./NOEquality.html#4434" class="Function">Q</a> <a id="4436" class="Symbol" href="./">:</a> <a id="4438" href="./NOEquality.html#4392" class="Bound">A</a> <a id="4440" class="Symbol" href="./">→</a> <a id="4442" href="./Agda.Primitive.html#388" class="Primitive">Set</a> 
        <a id="4455" href="./NOEquality.html#4434" class="Function">Q</a> <a id="4457" href="./NOEquality.html#4457" class="Bound">z</a> <a id="4459" class="Symbol" href="./">=</a> <a id="4461" href="./NOEquality.html#4407" class="Bound">P</a> <a id="4463" href="./NOEquality.html#4457" class="Bound">z</a> <a id="4465" class="Symbol" href="./">→</a> <a id="4467" href="./NOEquality.html#4407" class="Bound">P</a> <a id="4469" href="./NOEquality.html#4396" class="Bound">x</a> 
        <a id="4480" href="./NOEquality.html#4480" class="Function">Qx</a> <a id="4483" class="Symbol" href="./">:</a> <a id="4485" href="./NOEquality.html#4434" class="Function">Q</a> <a id="4487" href="./NOEquality.html#4396" class="Bound">x</a> 
        <a id="4498" href="./NOEquality.html#4480" class="Function">Qx</a> <a id="4501" class="Symbol" href="./">=</a> <a id="4503" href="./NOEquality.html#4127" class="Function">refl-≐</a> <a id="4510" href="./NOEquality.html#4407" class="Bound">P</a> 
        <a id="4521" href="./NOEquality.html#4521" class="Function">Qy</a> <a id="4524" class="Symbol" href="./">:</a> <a id="4526" href="./NOEquality.html#4434" class="Function">Q</a> <a id="4528" href="./NOEquality.html#4400" class="Bound">y</a> 
        <a id="4539" href="./NOEquality.html#4521" class="Function">Qy</a> <a id="4542" class="Symbol" href="./">=</a> <a id="4544" href="./NOEquality.html#4403" class="Bound">x≐y</a> <a id="4548" href="./NOEquality.html#4434" class="Function">Q</a> <a id="4550" href="./NOEquality.html#4480" class="Function">Qx</a>

</pre>
<p>对称性的证明相对比较复杂，但其根本实际上是构造一个新的谓词<code>Q</code>，以便能够得到<code>P y → P x</code>的证据。</p>
<p>下面证明“莱布尼兹相等性当且仅当其满足 Martin-Löf 相等性”，我们将两个方向的证明拆分。</p>
<p>首先证明 <em>Martin-Löf 相等性 蕴含 莱布尼兹相等性</em>。</p>
<pre class="Agda"><a id="4711" class="Comment" href="./">-- 我认为更简洁的方式</a>
<a id="≡-implies-≐" href="./"></a><a id="4724" href="./NOEquality.html#4724" class="Function">≡-implies-≐</a> <a id="4736" class="Symbol" href="./">:</a> <a id="4738" class="Symbol" href="./">∀</a> <a id="4740" class="Symbol" href="./">{</a><a id="4741" href="./NOEquality.html#4741" class="Bound">A</a> <a id="4743" class="Symbol" href="./">:</a> <a id="4745" href="./Agda.Primitive.html#388" class="Primitive">Set</a><a id="4748" class="Symbol" href="./">}</a> <a id="4750" class="Symbol" href="./">{</a><a id="4751" href="./NOEquality.html#4751" class="Bound">x</a> <a id="4753" href="./NOEquality.html#4753" class="Bound">y</a> <a id="4755" class="Symbol" href="./">:</a> <a id="4757" href="./NOEquality.html#4741" class="Bound">A</a><a id="4758" class="Symbol" href="./">}</a> 
        <a id="4769" class="Symbol" href="./">→</a> <a id="4771" href="./NOEquality.html#4751" class="Bound">x</a> <a id="4773" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="4775" href="./NOEquality.html#4753" class="Bound">y</a> 
        <a id="4786" class="Comment" href="./">-------- </a>
        <a id="4804" class="Symbol" href="./">→</a> <a id="4806" href="./NOEquality.html#4751" class="Bound">x</a> <a id="4808" href="./NOEquality.html#3799" class="Function Operator">≐</a> <a id="4810" href="./NOEquality.html#4753" class="Bound">y</a> 
<a id="4813" href="./NOEquality.html#4724" class="Function">≡-implies-≐</a> <a id="4825" href="./NOEquality.html#458" class="InductiveConstructor">refl</a> <a id="4830" href="./NOEquality.html#4830" class="Bound">P</a> <a id="4832" href="./NOEquality.html#4832" class="Bound">Px</a> <a id="4835" class="Symbol" href="./">=</a> <a id="4837" href="./NOEquality.html#4832" class="Bound">Px</a>

<a id="4841" class="Comment" href="./">-- plfa 中给出的证明使用了替换性</a>
<a id="≡-implies-≐′" href="./"></a><a id="4862" href="./NOEquality.html#4862" class="Function">≡-implies-≐′</a> <a id="4875" class="Symbol" href="./">:</a> <a id="4877" class="Symbol" href="./">∀</a> <a id="4879" class="Symbol" href="./">{</a><a id="4880" href="./NOEquality.html#4880" class="Bound">A</a> <a id="4882" class="Symbol" href="./">:</a> <a id="4884" href="./Agda.Primitive.html#388" class="Primitive">Set</a><a id="4887" class="Symbol" href="./">}</a> <a id="4889" class="Symbol" href="./">{</a><a id="4890" href="./NOEquality.html#4890" class="Bound">x</a> <a id="4892" href="./NOEquality.html#4892" class="Bound">y</a> <a id="4894" class="Symbol" href="./">:</a> <a id="4896" href="./NOEquality.html#4880" class="Bound">A</a><a id="4897" class="Symbol" href="./">}</a>
        <a id="4907" class="Symbol" href="./">→</a> <a id="4909" href="./NOEquality.html#4890" class="Bound">x</a> <a id="4911" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="4913" href="./NOEquality.html#4892" class="Bound">y</a> 
        <a id="4924" class="Comment" href="./">-------- </a>
        <a id="4942" class="Symbol" href="./">→</a> <a id="4944" href="./NOEquality.html#4890" class="Bound">x</a> <a id="4946" href="./NOEquality.html#3799" class="Function Operator">≐</a> <a id="4948" href="./NOEquality.html#4892" class="Bound">y</a> 
<a id="4951" href="./NOEquality.html#4862" class="Function">≡-implies-≐′</a> <a id="4964" href="./NOEquality.html#4964" class="Bound">x≡y</a> <a id="4968" href="./NOEquality.html#4968" class="Bound">P</a> <a id="4970" class="Symbol" href="./">=</a> <a id="4972" href="./NOEquality.html#2128" class="Function">subst</a> <a id="4978" href="./NOEquality.html#4968" class="Bound">P</a> <a id="4980" href="./NOEquality.html#4964" class="Bound">x≡y</a> 
</pre>
<p>接着证明其逆命题。</p>
<pre class="Agda"><a id="≐-implies-≡" href="./"></a><a id="5011" href="./NOEquality.html#5011" class="Function">≐-implies-≡</a> <a id="5023" class="Symbol" href="./">:</a> <a id="5025" class="Symbol" href="./">∀</a> <a id="5027" class="Symbol" href="./">{</a><a id="5028" href="./NOEquality.html#5028" class="Bound">A</a> <a id="5030" class="Symbol" href="./">:</a> <a id="5032" href="./Agda.Primitive.html#388" class="Primitive">Set</a><a id="5035" class="Symbol" href="./">}</a> <a id="5037" class="Symbol" href="./">{</a><a id="5038" href="./NOEquality.html#5038" class="Bound">x</a> <a id="5040" href="./NOEquality.html#5040" class="Bound">y</a> <a id="5042" class="Symbol" href="./">:</a> <a id="5044" href="./NOEquality.html#5028" class="Bound">A</a><a id="5045" class="Symbol" href="./">}</a>
        <a id="5055" class="Symbol" href="./">→</a> <a id="5057" href="./NOEquality.html#5038" class="Bound">x</a> <a id="5059" href="./NOEquality.html#3799" class="Function Operator">≐</a> <a id="5061" href="./NOEquality.html#5040" class="Bound">y</a> 
        <a id="5072" class="Symbol" href="./">→</a> <a id="5074" href="./NOEquality.html#5038" class="Bound">x</a> <a id="5076" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="5078" href="./NOEquality.html#5040" class="Bound">y</a> 
<a id="5081" href="./NOEquality.html#5011" class="Function">≐-implies-≡</a> <a id="5093" class="Symbol" href="./">{</a><a id="5094" href="./NOEquality.html#5094" class="Bound">A</a><a id="5095" class="Symbol" href="./">}</a> <a id="5097" class="Symbol" href="./">{</a><a id="5098" href="./NOEquality.html#5098" class="Bound">x</a><a id="5099" class="Symbol" href="./">}</a> <a id="5101" class="Symbol" href="./">{</a><a id="5102" href="./NOEquality.html#5102" class="Bound">y</a><a id="5103" class="Symbol" href="./">}</a> <a id="5105" href="./NOEquality.html#5105" class="Bound">x≐y</a> <a id="5109" class="Symbol" href="./">=</a> <a id="5111" href="./NOEquality.html#5213" class="Function">Qy</a> 
    <a id="5119" class="Keyword" href="./">where</a> 
        <a id="5134" href="./NOEquality.html#5134" class="Function">Q</a> <a id="5136" class="Symbol" href="./">:</a> <a id="5138" href="./NOEquality.html#5094" class="Bound">A</a> <a id="5140" class="Symbol" href="./">→</a> <a id="5142" href="./Agda.Primitive.html#388" class="Primitive">Set</a> 
        <a id="5155" href="./NOEquality.html#5134" class="Function">Q</a> <a id="5157" href="./NOEquality.html#5157" class="Bound">z</a> <a id="5159" class="Symbol" href="./">=</a> <a id="5161" href="./NOEquality.html#5098" class="Bound">x</a> <a id="5163" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="5165" href="./NOEquality.html#5157" class="Bound">z</a> 
        <a id="5176" href="./NOEquality.html#5176" class="Function">Qx</a> <a id="5179" class="Symbol" href="./">:</a> <a id="5181" href="./NOEquality.html#5134" class="Function">Q</a> <a id="5183" href="./NOEquality.html#5098" class="Bound">x</a> 
        <a id="5194" href="./NOEquality.html#5176" class="Function">Qx</a> <a id="5197" class="Symbol" href="./">=</a> <a id="5199" href="./NOEquality.html#458" class="InductiveConstructor">refl</a> 
        <a id="5213" href="./NOEquality.html#5213" class="Function">Qy</a> <a id="5216" class="Symbol" href="./">:</a> <a id="5218" href="./NOEquality.html#5134" class="Function">Q</a> <a id="5220" href="./NOEquality.html#5102" class="Bound">y</a> 
        <a id="5231" href="./NOEquality.html#5213" class="Function">Qy</a> <a id="5234" class="Symbol" href="./">=</a> <a id="5236" href="./NOEquality.html#5105" class="Bound">x≐y</a> <a id="5240" href="./NOEquality.html#5134" class="Function">Q</a> <a id="5242" href="./NOEquality.html#5176" class="Function">Qx</a>
</pre>
<p>匿命题的证明与对称性的证法如出一辙，使用的相同的技巧，核心都在于谓词<code>Q</code>的合理构造。</p>
<h2 id="全体多态" ebook-toc-level-2="" heading="全体多态 ">全体多态 </h2>
<p>前面已经提到，我们无法让每个类型都属于<code>Set</code>，否则就会引发矛盾，因此我们引入了类型层级<code>Setᵢ : Setᵢ₊₁</code>，并认为每个类型都属于类型层级的某处<code>Setᵢ</code>，其中<code>i</code>是自然数。</p>
<p>为了使用层级，需要首先导入如下内容：</p>
<pre class="Agda"><a id="5431" class="Keyword" href="./">open</a> <a id="5436" class="Keyword" href="./">import</a> <a id="5443" href="./Level.html" class="Module">Level</a> <a id="5449" class="Keyword" href="./">using</a> <a id="5455" class="Symbol" href="./">(</a><a id="5456" href="./Agda.Primitive.html#742" class="Postulate">Level</a><a id="5461" class="Symbol" href="./">;</a><a id="5462" href="./Agda.Primitive.html#961" class="Primitive Operator">_⊔_</a><a id="5465" class="Symbol" href="./">)</a> <a id="5467" class="Keyword" href="./">renaming</a> <a id="5476" class="Symbol" href="./">(</a><a id="5477" href="./Agda.Primitive.html#915" class="Primitive">zero</a> <a id="5482" class="Symbol" href="./">to</a> <a id="5485" class="Primitive" href="./">lzero</a><a id="5490" class="Symbol" href="./">;</a> <a id="5492" href="./Agda.Primitive.html#931" class="Primitive">suc</a> <a id="5496" class="Symbol" href="./">to</a> <a id="5499" class="Primitive" href="./">lsuc</a><a id="5503" class="Symbol" href="./">)</a>
</pre>
<p>为了避免层级与自然数混淆，通过重命名将其构造子与自然数构造子区分。</p>
<p>实际上，层级与自然数是同构的：</p>
<pre class="language-text">lzero : Level
lsuc : Level → Level 
</pre>
<p>设同构映射为<code>f : ℕ → Level</code>（双射且对构造子保运算），则定义<code>Setᵢ</code>为<code>Set f(i)</code>，其中<code>i</code>为自然数。</p>
<p>另外，我们还有一个运算符：</p>
<pre class="language-text">_⊔_ : Level → Level → Level 
</pre>
<p>这个运算符接受两个层级，返回较大的一个。该运算符用于计算涉及多个层级的类型属于哪个层级。</p>
<p>本章前面涉及到的定义为了便于说明原理，都是局限于比较<code>Set</code>层次的类型的值，并不适用于其他层级。在实际的标准库中，通过使用 <em><strong>全体多态(Universe Polymorphism)</strong></em> ，可以将这些定义推广至任何层级。</p>
<p>下面给出相等性和对称性推广的定义。</p>
<pre class="Agda"><a id="5913" class="Keyword" href="./">data</a> <a id="_≡′_" href="./"></a><a id="5918" href="./NOEquality.html#5918" class="Datatype Operator">_≡′_</a> <a id="5923" class="Symbol" href="./">{</a><a id="5924" href="./NOEquality.html#5924" class="Bound">ℓ</a> <a id="5926" class="Symbol" href="./">:</a> <a id="5928" href="./Agda.Primitive.html#742" class="Postulate">Level</a><a id="5933" class="Symbol" href="./">}</a> <a id="5935" class="Symbol" href="./">{</a><a id="5936" href="./NOEquality.html#5936" class="Bound">A</a> <a id="5938" class="Symbol" href="./">:</a> <a id="5940" href="./Agda.Primitive.html#388" class="Primitive">Set</a> <a id="5944" href="./NOEquality.html#5924" class="Bound">ℓ</a><a id="5945" class="Symbol" href="./">}</a> <a id="5947" class="Symbol" href="./">(</a><a id="5948" href="./NOEquality.html#5948" class="Bound">x</a> <a id="5950" class="Symbol" href="./">:</a> <a id="5952" href="./NOEquality.html#5936" class="Bound">A</a><a id="5953" class="Symbol" href="./">)</a> <a id="5955" class="Symbol" href="./">:</a> <a id="5957" href="./NOEquality.html#5936" class="Bound">A</a> <a id="5959" class="Symbol" href="./">→</a> <a id="5961" href="./Agda.Primitive.html#388" class="Primitive">Set</a> <a id="5965" href="./NOEquality.html#5924" class="Bound">ℓ</a> <a id="5967" class="Keyword" href="./">where</a>
    <a id="_≡′_.refl′" href="./"></a><a id="5977" href="./NOEquality.html#5977" class="InductiveConstructor">refl′</a> <a id="5983" class="Symbol" href="./">:</a> <a id="5985" href="./NOEquality.html#5948" class="Bound">x</a> <a id="5987" href="./NOEquality.html#5918" class="Datatype Operator">≡′</a> <a id="5990" href="./NOEquality.html#5948" class="Bound">x</a> 

<a id="sym′" href="./"></a><a id="5994" href="./NOEquality.html#5994" class="Function">sym′</a> <a id="5999" class="Symbol" href="./">:</a> <a id="6001" class="Symbol" href="./">∀</a> <a id="6003" class="Symbol" href="./">{</a><a id="6004" href="./NOEquality.html#6004" class="Bound">ℓ</a> <a id="6006" class="Symbol" href="./">:</a> <a id="6008" href="./Agda.Primitive.html#742" class="Postulate">Level</a><a id="6013" class="Symbol" href="./">}</a> <a id="6015" class="Symbol" href="./">{</a><a id="6016" href="./NOEquality.html#6016" class="Bound">A</a> <a id="6018" class="Symbol" href="./">:</a> <a id="6020" href="./Agda.Primitive.html#388" class="Primitive">Set</a> <a id="6024" href="./NOEquality.html#6004" class="Bound">ℓ</a><a id="6025" class="Symbol" href="./">}</a> <a id="6027" class="Symbol" href="./">{</a><a id="6028" href="./NOEquality.html#6028" class="Bound">x</a> <a id="6030" href="./NOEquality.html#6030" class="Bound">y</a> <a id="6032" class="Symbol" href="./">:</a> <a id="6034" href="./NOEquality.html#6016" class="Bound">A</a><a id="6035" class="Symbol" href="./">}</a>
    <a id="6041" class="Symbol" href="./">→</a> <a id="6043" href="./NOEquality.html#6028" class="Bound">x</a> <a id="6045" href="./NOEquality.html#5918" class="Datatype Operator">≡′</a> <a id="6048" href="./NOEquality.html#6030" class="Bound">y</a> 
    <a id="6055" class="Comment" href="./">-------- </a>
    <a id="6069" class="Symbol" href="./">→</a> <a id="6071" href="./NOEquality.html#6030" class="Bound">y</a> <a id="6073" href="./NOEquality.html#5918" class="Datatype Operator">≡′</a> <a id="6076" href="./NOEquality.html#6028" class="Bound">x</a> 
<a id="6079" href="./NOEquality.html#5994" class="Function">sym′</a> <a id="6084" href="./NOEquality.html#5977" class="InductiveConstructor">refl′</a> <a id="6090" class="Symbol" href="./">=</a> <a id="6092" href="./NOEquality.html#5977" class="InductiveConstructor">refl′</a>
</pre>
<p>以及莱布尼兹相等性的推广定义：</p>
<pre class="Agda"><a id="_≐′_" href="./"></a><a id="6129" href="./NOEquality.html#6129" class="Function Operator">_≐′_</a> <a id="6134" class="Symbol" href="./">:</a> <a id="6136" class="Symbol" href="./">∀</a> <a id="6138" class="Symbol" href="./">{</a><a id="6139" href="./NOEquality.html#6139" class="Bound">ℓ</a> <a id="6141" class="Symbol" href="./">:</a> <a id="6143" href="./Agda.Primitive.html#742" class="Postulate">Level</a><a id="6148" class="Symbol" href="./">}</a> <a id="6150" class="Symbol" href="./">{</a><a id="6151" href="./NOEquality.html#6151" class="Bound">A</a> <a id="6153" class="Symbol" href="./">:</a> <a id="6155" href="./Agda.Primitive.html#388" class="Primitive">Set</a> <a id="6159" href="./NOEquality.html#6139" class="Bound">ℓ</a><a id="6160" class="Symbol" href="./">}</a> <a id="6162" class="Symbol" href="./">(</a><a id="6163" href="./NOEquality.html#6163" class="Bound">x</a> <a id="6165" href="./NOEquality.html#6165" class="Bound">y</a> <a id="6167" class="Symbol" href="./">:</a> <a id="6169" href="./NOEquality.html#6151" class="Bound">A</a><a id="6170" class="Symbol" href="./">)</a> <a id="6172" class="Symbol" href="./">→</a> <a id="6174" href="./Agda.Primitive.html#388" class="Primitive">Set</a> <a id="6178" class="Symbol" href="./">(</a><a id="6179" href="./NOEquality.html#5499" class="Primitive">lsuc</a> <a id="6184" href="./NOEquality.html#6139" class="Bound">ℓ</a><a id="6185" class="Symbol" href="./">)</a>
<a id="6187" href="./NOEquality.html#6129" class="Function Operator">_≐′_</a> <a id="6192" class="Symbol" href="./">{</a><a id="6193" href="./NOEquality.html#6193" class="Bound">ℓ</a><a id="6194" class="Symbol" href="./">}</a> <a id="6196" class="Symbol" href="./">{</a><a id="6197" href="./NOEquality.html#6197" class="Bound">A</a><a id="6198" class="Symbol" href="./">}</a> <a id="6200" href="./NOEquality.html#6200" class="Bound">x</a> <a id="6202" href="./NOEquality.html#6202" class="Bound">y</a> <a id="6204" class="Symbol" href="./">=</a> <a id="6206" class="Symbol" href="./">∀</a> <a id="6208" class="Symbol" href="./">(</a><a id="6209" href="./NOEquality.html#6209" class="Bound">P</a> <a id="6211" class="Symbol" href="./">:</a> <a id="6213" href="./NOEquality.html#6197" class="Bound">A</a> <a id="6215" class="Symbol" href="./">→</a> <a id="6217" href="./Agda.Primitive.html#388" class="Primitive">Set</a> <a id="6221" href="./NOEquality.html#6193" class="Bound">ℓ</a><a id="6222" class="Symbol" href="./">)</a> <a id="6224" class="Symbol" href="./">→</a> <a id="6226" href="./NOEquality.html#6209" class="Bound">P</a> <a id="6228" href="./NOEquality.html#6200" class="Bound">x</a> <a id="6230" class="Symbol" href="./">→</a> <a id="6232" href="./NOEquality.html#6209" class="Bound">P</a> <a id="6234" href="./NOEquality.html#6202" class="Bound">y</a> 
</pre>
<p>前面定义的未推广的莱布尼兹相等性定义是上述推广的特例(ℓ = lzero)。</p>
<h2 id="标准库" ebook-toc-level-2="" heading="标准库 ">标准库 </h2>
<p>本章涉及的定义在标准库的对应：</p>
<pre class="Agda"><a id="6317" class="Comment" href="./">-- import Relation.Binary.PropositionalEquality as Eq</a>
<a id="6371" class="Comment" href="./">-- open Eq using (_≡_; refl; trans; sym; cong; cong-app; subst)</a>
<a id="6435" class="Comment" href="./">-- open Eq.≡-Reasoning using (begin_; _≡⟨⟩_; step-≡; _∎)</a>
</pre>
<h2 id="习题参考" ebook-toc-level-2="" heading="习题参考 ">习题参考 </h2>
<h3 id="练习-reasoning延伸" ebook-toc-level-3="" heading="练习<code>≤-Reasoning</code>(延伸) ">练习<code>≤-Reasoning</code>(延伸) </h3>
<p>章节Relations中的单调性证明也可以用类似<code>≡-Reasoning</code>这种更容易理解的形式给出，请仿照定义<code>≤-Reasoning</code>，并用其重新给出加法对于不等式是单调的证明，重写<code>+-monoˡ-≤</code>，<code>+-monoʳ-≤</code>和<code>+-mono-≤</code>的定义。</p>
<pre class="Agda"><a id="6673" class="Keyword" href="./">open</a> <a id="6678" class="Keyword" href="./">import</a> <a id="6685" href="./Data.Nat.html" class="Module">Data.Nat</a> <a id="6694" class="Keyword" href="./">using</a> <a id="6700" class="Symbol" href="./">(</a><a id="6701" href="./Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6702" class="Symbol" href="./">;</a> <a id="6704" href="./Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="6708" class="Symbol" href="./">;</a> <a id="6710" href="./Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="6713" class="Symbol" href="./">;</a> <a id="6715" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a><a id="6718" class="Symbol" href="./">;</a> <a id="6720" href="./Data.Nat.Base.html#1544" class="Datatype Operator">_≤_</a><a id="6723" class="Symbol" href="./">;</a> <a id="6725" href="./Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a><a id="6728" class="Symbol" href="./">;</a> <a id="6730" href="./Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a><a id="6733" class="Symbol" href="./">)</a>
<a id="6735" class="Keyword" href="./">open</a> <a id="6740" class="Keyword" href="./">import</a> <a id="6747" href="./Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="6767" class="Keyword" href="./">using</a> <a id="6773" class="Symbol" href="./">(</a><a id="6774" href="./Data.Nat.Properties.html#4574" class="Function">≤-refl</a><a id="6780" class="Symbol" href="./">;</a> <a id="6782" href="./Data.Nat.Properties.html#4757" class="Function">≤-trans</a><a id="6789" class="Symbol" href="./">)</a>

<a id="6792" class="Comment" href="./">-- 公设：不加证明地给出</a>
<a id="6806" class="Comment" href="./">-- 从标准库导出会导致奇怪的问题，因此这里声明了自定义的版本</a>
<a id="6838" class="Keyword" href="./">postulate</a>
    <a id="+-identityʳ" href="./"></a><a id="6852" href="./NOEquality.html#6852" class="Postulate">+-identityʳ</a> <a id="6864" class="Symbol" href="./">:</a> <a id="6866" class="Symbol" href="./">∀</a> <a id="6868" class="Symbol" href="./">(</a><a id="6869" href="./NOEquality.html#6869" class="Bound">m</a> <a id="6871" class="Symbol" href="./">:</a> <a id="6873" href="./Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6874" class="Symbol" href="./">)</a> <a id="6876" class="Symbol" href="./">→</a> <a id="6878" href="./NOEquality.html#6869" class="Bound">m</a> <a id="6880" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="6882" href="./Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="6887" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="6889" href="./NOEquality.html#6869" class="Bound">m</a> 
    <a id="+-suc" href="./"></a><a id="6896" href="./NOEquality.html#6896" class="Postulate">+-suc</a> <a id="6902" class="Symbol" href="./">:</a> <a id="6904" class="Symbol" href="./">∀</a> <a id="6906" class="Symbol" href="./">(</a><a id="6907" href="./NOEquality.html#6907" class="Bound">m</a> <a id="6909" href="./NOEquality.html#6909" class="Bound">n</a> <a id="6911" class="Symbol" href="./">:</a> <a id="6913" href="./Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6914" class="Symbol" href="./">)</a> <a id="6916" class="Symbol" href="./">→</a> <a id="6918" href="./NOEquality.html#6907" class="Bound">m</a> <a id="6920" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="6922" href="./Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6926" href="./NOEquality.html#6909" class="Bound">n</a> <a id="6928" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="6930" href="./Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6934" class="Symbol" href="./">(</a><a id="6935" href="./NOEquality.html#6907" class="Bound">m</a> <a id="6937" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="6939" href="./NOEquality.html#6909" class="Bound">n</a><a id="6940" class="Symbol" href="./">)</a>


<a id="6944" class="Keyword" href="./">module</a> <a id="≤-Reasoning" href="./"></a><a id="6951" href="./NOEquality.html#6951" class="Module">≤-Reasoning</a> <a id="6963" class="Keyword" href="./">where</a>

    <a id="6974" class="Keyword" href="./">infix</a> <a id="6980" class="Number" href="./">1</a> <a id="6982" href="./NOEquality.html#7053" class="Function Operator">≤-begin_</a>  
    <a id="6997" class="Keyword" href="./">infixr</a> <a id="7004" class="Number" href="./">2</a> <a id="7006" href="./NOEquality.html#7155" class="Function Operator">_≤⟨⟩_</a>  <a id="7013" href="./NOEquality.html#7264" class="Function Operator">_≤⟨_⟩_</a> <a id="7020" href="./NOEquality.html#7406" class="Function Operator">_≡→≤⟨_⟩_</a>
    <a id="7033" class="Keyword" href="./">infix</a> <a id="7039" class="Number" href="./">3</a> <a id="7041" href="./NOEquality.html#7541" class="Function Operator">_≤-∎</a>  

    <a id="≤-Reasoning.≤-begin_" href="./"></a><a id="7053" href="./NOEquality.html#7053" class="Function Operator">≤-begin_</a> <a id="7062" class="Symbol" href="./">:</a> <a id="7064" class="Symbol" href="./">∀</a> <a id="7066" class="Symbol" href="./">{</a><a id="7067" href="./NOEquality.html#7067" class="Bound">x</a> <a id="7069" href="./NOEquality.html#7069" class="Bound">y</a> <a id="7071" class="Symbol" href="./">:</a> <a id="7073" href="./Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="7074" class="Symbol" href="./">}</a>
        <a id="7084" class="Symbol" href="./">→</a> <a id="7086" href="./NOEquality.html#7067" class="Bound">x</a> <a id="7088" href="./Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="7090" href="./NOEquality.html#7069" class="Bound">y</a> 
        <a id="7101" class="Comment" href="./">--------- </a>
        <a id="7120" class="Symbol" href="./">→</a> <a id="7122" href="./NOEquality.html#7067" class="Bound">x</a> <a id="7124" href="./Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="7126" href="./NOEquality.html#7069" class="Bound">y</a>
    <a id="7132" href="./NOEquality.html#7053" class="Function Operator">≤-begin</a> <a id="7140" href="./NOEquality.html#7140" class="Bound">x≤y</a> <a id="7144" class="Symbol" href="./">=</a> <a id="7146" href="./NOEquality.html#7140" class="Bound">x≤y</a>

    <a id="≤-Reasoning._≤⟨⟩_" href="./"></a><a id="7155" href="./NOEquality.html#7155" class="Function Operator">_≤⟨⟩_</a> <a id="7161" class="Symbol" href="./">:</a> <a id="7163" class="Symbol" href="./">∀</a> <a id="7165" class="Symbol" href="./">(</a><a id="7166" href="./NOEquality.html#7166" class="Bound">x</a> <a id="7168" class="Symbol" href="./">:</a> <a id="7170" href="./Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="7171" class="Symbol" href="./">)</a> <a id="7173" class="Symbol" href="./">{</a><a id="7174" href="./NOEquality.html#7174" class="Bound">y</a> <a id="7176" class="Symbol" href="./">:</a> <a id="7178" href="./Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="7179" class="Symbol" href="./">}</a> 
        <a id="7190" class="Symbol" href="./">→</a> <a id="7192" href="./NOEquality.html#7166" class="Bound">x</a> <a id="7194" href="./Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="7196" href="./NOEquality.html#7174" class="Bound">y</a> 
        <a id="7207" class="Comment" href="./">----------</a>
        <a id="7226" class="Symbol" href="./">→</a> <a id="7228" href="./NOEquality.html#7166" class="Bound">x</a> <a id="7230" href="./Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="7232" href="./NOEquality.html#7174" class="Bound">y</a>     
    <a id="7243" href="./NOEquality.html#7243" class="Bound">x</a> <a id="7245" href="./NOEquality.html#7155" class="Function Operator">≤⟨⟩</a> <a id="7249" href="./NOEquality.html#7249" class="Bound">x≤y</a> <a id="7253" class="Symbol" href="./">=</a> <a id="7255" href="./NOEquality.html#7249" class="Bound">x≤y</a>

    <a id="≤-Reasoning._≤⟨_⟩_" href="./"></a><a id="7264" href="./NOEquality.html#7264" class="Function Operator">_≤⟨_⟩_</a> <a id="7271" class="Symbol" href="./">:</a> <a id="7273" class="Symbol" href="./">∀</a> <a id="7275" class="Symbol" href="./">(</a><a id="7276" href="./NOEquality.html#7276" class="Bound">x</a> <a id="7278" class="Symbol" href="./">:</a> <a id="7280" href="./Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="7281" class="Symbol" href="./">)</a> <a id="7283" class="Symbol" href="./">{</a><a id="7284" href="./NOEquality.html#7284" class="Bound">y</a> <a id="7286" href="./NOEquality.html#7286" class="Bound">z</a> <a id="7288" class="Symbol" href="./">:</a> <a id="7290" href="./Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="7291" class="Symbol" href="./">}</a>
        <a id="7301" class="Symbol" href="./">→</a> <a id="7303" href="./NOEquality.html#7276" class="Bound">x</a> <a id="7305" href="./Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="7307" href="./NOEquality.html#7284" class="Bound">y</a> 
        <a id="7318" class="Symbol" href="./">→</a> <a id="7320" href="./NOEquality.html#7284" class="Bound">y</a> <a id="7322" href="./Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="7324" href="./NOEquality.html#7286" class="Bound">z</a> 
        <a id="7335" class="Comment" href="./">-------- </a>
        <a id="7353" class="Symbol" href="./">→</a> <a id="7355" href="./NOEquality.html#7276" class="Bound">x</a> <a id="7357" href="./Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="7359" href="./NOEquality.html#7286" class="Bound">z</a> 
    <a id="7366" href="./NOEquality.html#7366" class="Bound">x</a> <a id="7368" href="./NOEquality.html#7264" class="Function Operator">≤⟨</a> <a id="7371" href="./NOEquality.html#7371" class="Bound">x≤y</a> <a id="7375" href="./NOEquality.html#7264" class="Function Operator">⟩</a> <a id="7377" href="./NOEquality.html#7377" class="Bound">y≤z</a> <a id="7381" class="Symbol" href="./">=</a> <a id="7383" href="./Data.Nat.Properties.html#4757" class="Function">≤-trans</a> <a id="7391" href="./NOEquality.html#7371" class="Bound">x≤y</a> <a id="7395" href="./NOEquality.html#7377" class="Bound">y≤z</a>  

    <a id="≤-Reasoning._≡→≤⟨_⟩_" href="./"></a><a id="7406" href="./NOEquality.html#7406" class="Function Operator">_≡→≤⟨_⟩_</a> <a id="7415" class="Symbol" href="./">:</a> <a id="7417" class="Symbol" href="./">∀</a> <a id="7419" class="Symbol" href="./">(</a><a id="7420" href="./NOEquality.html#7420" class="Bound">x</a> <a id="7422" class="Symbol" href="./">:</a> <a id="7424" href="./Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="7425" class="Symbol" href="./">)</a> <a id="7427" class="Symbol" href="./">{</a><a id="7428" href="./NOEquality.html#7428" class="Bound">y</a> <a id="7430" href="./NOEquality.html#7430" class="Bound">z</a> <a id="7432" class="Symbol" href="./">:</a> <a id="7434" href="./Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="7435" class="Symbol" href="./">}</a>
        <a id="7445" class="Symbol" href="./">→</a> <a id="7447" href="./NOEquality.html#7420" class="Bound">x</a> <a id="7449" href="./NOEquality.html#415" class="Datatype Operator">≡</a> <a id="7451" href="./NOEquality.html#7428" class="Bound">y</a> 
        <a id="7462" class="Symbol" href="./">→</a> <a id="7464" href="./NOEquality.html#7428" class="Bound">y</a> <a id="7466" href="./Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="7468" href="./NOEquality.html#7430" class="Bound">z</a> 
        <a id="7479" class="Comment" href="./">-------- </a>
        <a id="7497" class="Symbol" href="./">→</a> <a id="7499" href="./NOEquality.html#7420" class="Bound">x</a> <a id="7501" href="./Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="7503" href="./NOEquality.html#7430" class="Bound">z</a> 
    <a id="7510" href="./NOEquality.html#7510" class="Bound">x</a> <a id="7512" href="./NOEquality.html#7406" class="Function Operator">≡→≤⟨</a> <a id="7517" href="./NOEquality.html#458" class="InductiveConstructor">refl</a> <a id="7522" href="./NOEquality.html#7406" class="Function Operator">⟩</a> <a id="7524" href="./NOEquality.html#7524" class="Bound">y≤z</a> <a id="7528" class="Symbol" href="./">=</a> <a id="7530" href="./NOEquality.html#7524" class="Bound">y≤z</a>  

    <a id="≤-Reasoning._≤-∎" href="./"></a><a id="7541" href="./NOEquality.html#7541" class="Function Operator">_≤-∎</a> <a id="7546" class="Symbol" href="./">:</a> <a id="7548" class="Symbol" href="./">∀</a> <a id="7550" class="Symbol" href="./">(</a><a id="7551" href="./NOEquality.html#7551" class="Bound">x</a> <a id="7553" class="Symbol" href="./">:</a> <a id="7555" href="./Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="7556" class="Symbol" href="./">)</a>
        <a id="7566" class="Comment" href="./">-------- </a>
        <a id="7584" class="Symbol" href="./">→</a> <a id="7586" href="./NOEquality.html#7551" class="Bound">x</a> <a id="7588" href="./Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="7590" href="./NOEquality.html#7551" class="Bound">x</a> 
    <a id="7597" href="./NOEquality.html#7597" class="Bound">x</a> <a id="7599" href="./NOEquality.html#7541" class="Function Operator">≤-∎</a> <a id="7603" class="Symbol" href="./">=</a> <a id="7605" href="./Data.Nat.Properties.html#4574" class="Function">≤-refl</a>

<a id="7613" class="Keyword" href="./">open</a> <a id="7618" href="./NOEquality.html#6951" class="Module">≤-Reasoning</a>

<a id="+-monoʳ-≤" href="./"></a><a id="7631" href="./NOEquality.html#7631" class="Function">+-monoʳ-≤</a> <a id="7641" class="Symbol" href="./">:</a> <a id="7643" class="Symbol" href="./">∀</a> <a id="7645" class="Symbol" href="./">(</a><a id="7646" href="./NOEquality.html#7646" class="Bound">n</a> <a id="7648" href="./NOEquality.html#7648" class="Bound">p</a> <a id="7650" href="./NOEquality.html#7650" class="Bound">q</a> <a id="7652" class="Symbol" href="./">:</a> <a id="7654" href="./Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="7655" class="Symbol" href="./">)</a> 
    <a id="7662" class="Symbol" href="./">→</a> <a id="7664" href="./NOEquality.html#7648" class="Bound">p</a> <a id="7666" href="./Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="7668" href="./NOEquality.html#7650" class="Bound">q</a> 
    <a id="7675" class="Comment" href="./">---------------- </a>
    <a id="7697" class="Symbol" href="./">→</a> <a id="7699" href="./NOEquality.html#7646" class="Bound">n</a> <a id="7701" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="7703" href="./NOEquality.html#7648" class="Bound">p</a> <a id="7705" href="./Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="7707" href="./NOEquality.html#7646" class="Bound">n</a> <a id="7709" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="7711" href="./NOEquality.html#7650" class="Bound">q</a> 
<a id="7714" href="./NOEquality.html#7631" class="Function">+-monoʳ-≤</a> <a id="7724" href="./Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="7729" href="./NOEquality.html#7729" class="Bound">p</a> <a id="7731" href="./NOEquality.html#7731" class="Bound">q</a> <a id="7733" href="./NOEquality.html#7733" class="Bound">p≤q</a> <a id="7737" class="Symbol" href="./">=</a> 
    <a id="7744" href="./NOEquality.html#7053" class="Function Operator">≤-begin</a> 
        <a id="7761" href="./Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="7766" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="7768" href="./NOEquality.html#7729" class="Bound">p</a> 
    <a id="7775" href="./NOEquality.html#7155" class="Function Operator">≤⟨⟩</a> 
        <a id="7788" href="./NOEquality.html#7729" class="Bound">p</a> 
    <a id="7795" href="./NOEquality.html#7264" class="Function Operator">≤⟨</a> <a id="7798" href="./NOEquality.html#7733" class="Bound">p≤q</a> <a id="7802" href="./NOEquality.html#7264" class="Function Operator">⟩</a>
        <a id="7812" href="./NOEquality.html#7731" class="Bound">q</a> 
    <a id="7819" href="./NOEquality.html#7155" class="Function Operator">≤⟨⟩</a> 
        <a id="7832" href="./Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="7837" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="7839" href="./NOEquality.html#7731" class="Bound">q</a>  
    <a id="7847" href="./NOEquality.html#7541" class="Function Operator">≤-∎</a>
<a id="7851" href="./NOEquality.html#7631" class="Function">+-monoʳ-≤</a> <a id="7861" class="Symbol" href="./">(</a><a id="7862" href="./Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="7866" href="./NOEquality.html#7866" class="Bound">n</a><a id="7867" class="Symbol" href="./">)</a> <a id="7869" href="./NOEquality.html#7869" class="Bound">p</a> <a id="7871" href="./NOEquality.html#7871" class="Bound">q</a> <a id="7873" href="./NOEquality.html#7873" class="Bound">p≤q</a> <a id="7877" class="Symbol" href="./">=</a> 
    <a id="7884" href="./NOEquality.html#7053" class="Function Operator">≤-begin</a> 
        <a id="7901" class="Symbol" href="./">(</a><a id="7902" href="./Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="7906" href="./NOEquality.html#7866" class="Bound">n</a><a id="7907" class="Symbol" href="./">)</a> <a id="7909" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="7911" href="./NOEquality.html#7869" class="Bound">p</a> 
    <a id="7918" href="./NOEquality.html#7155" class="Function Operator">≤⟨⟩</a>
        <a id="7930" href="./Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="7934" class="Symbol" href="./">(</a><a id="7935" href="./NOEquality.html#7866" class="Bound">n</a> <a id="7937" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="7939" href="./NOEquality.html#7869" class="Bound">p</a><a id="7940" class="Symbol" href="./">)</a> 
    <a id="7947" href="./NOEquality.html#7264" class="Function Operator">≤⟨</a> <a id="7950" href="./Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="7954" class="Symbol" href="./">(</a><a id="7955" href="./NOEquality.html#7631" class="Function">+-monoʳ-≤</a> <a id="7965" href="./NOEquality.html#7866" class="Bound">n</a> <a id="7967" href="./NOEquality.html#7869" class="Bound">p</a> <a id="7969" href="./NOEquality.html#7871" class="Bound">q</a> <a id="7971" href="./NOEquality.html#7873" class="Bound">p≤q</a><a id="7974" class="Symbol" href="./">)</a> <a id="7976" href="./NOEquality.html#7264" class="Function Operator">⟩</a>
        <a id="7986" href="./Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="7990" class="Symbol" href="./">(</a><a id="7991" href="./NOEquality.html#7866" class="Bound">n</a> <a id="7993" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="7995" href="./NOEquality.html#7871" class="Bound">q</a><a id="7996" class="Symbol" href="./">)</a>
    <a id="8002" href="./NOEquality.html#7155" class="Function Operator">≤⟨⟩</a> 
        <a id="8015" href="./Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8019" href="./NOEquality.html#7866" class="Bound">n</a> <a id="8021" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8023" href="./NOEquality.html#7871" class="Bound">q</a> 
    <a id="8030" href="./NOEquality.html#7541" class="Function Operator">≤-∎</a> 


<a id="+-monoˡ-≤" href="./"></a><a id="8037" href="./NOEquality.html#8037" class="Function">+-monoˡ-≤</a> <a id="8047" class="Symbol" href="./">:</a> <a id="8049" class="Symbol" href="./">∀</a> <a id="8051" class="Symbol" href="./">(</a><a id="8052" href="./NOEquality.html#8052" class="Bound">m</a> <a id="8054" href="./NOEquality.html#8054" class="Bound">n</a> <a id="8056" href="./NOEquality.html#8056" class="Bound">p</a> <a id="8058" class="Symbol" href="./">:</a> <a id="8060" href="./Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="8061" class="Symbol" href="./">)</a> 
    <a id="8068" class="Symbol" href="./">→</a> <a id="8070" href="./NOEquality.html#8052" class="Bound">m</a> <a id="8072" href="./Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="8074" href="./NOEquality.html#8054" class="Bound">n</a> 
    <a id="8081" class="Comment" href="./">------------------</a>
    <a id="8104" class="Symbol" href="./">→</a> <a id="8106" href="./NOEquality.html#8052" class="Bound">m</a> <a id="8108" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8110" href="./NOEquality.html#8056" class="Bound">p</a> <a id="8112" href="./Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="8114" href="./NOEquality.html#8054" class="Bound">n</a> <a id="8116" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8118" href="./NOEquality.html#8056" class="Bound">p</a> 
<a id="8121" href="./NOEquality.html#8037" class="Function">+-monoˡ-≤</a> <a id="8131" href="./NOEquality.html#8131" class="Bound">m</a> <a id="8133" href="./NOEquality.html#8133" class="Bound">n</a> <a id="8135" href="./Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="8140" href="./NOEquality.html#8140" class="Bound">m≤n</a> <a id="8144" class="Symbol" href="./">=</a> 
    <a id="8151" href="./NOEquality.html#7053" class="Function Operator">≤-begin</a> 
        <a id="8168" href="./NOEquality.html#8131" class="Bound">m</a> <a id="8170" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8172" href="./Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>
    <a id="8181" href="./NOEquality.html#7406" class="Function Operator">≡→≤⟨</a> <a id="8186" href="./NOEquality.html#6852" class="Postulate">+-identityʳ</a> <a id="8198" href="./NOEquality.html#8131" class="Bound">m</a> <a id="8200" href="./NOEquality.html#7406" class="Function Operator">⟩</a>
        <a id="8210" href="./NOEquality.html#8131" class="Bound">m</a> 
    <a id="8217" href="./NOEquality.html#7264" class="Function Operator">≤⟨</a> <a id="8220" href="./NOEquality.html#8140" class="Bound">m≤n</a> <a id="8224" href="./NOEquality.html#7264" class="Function Operator">⟩</a>
        <a id="8234" href="./NOEquality.html#8133" class="Bound">n</a> 
    <a id="8241" href="./NOEquality.html#7406" class="Function Operator">≡→≤⟨</a> <a id="8246" href="./NOEquality.html#1022" class="Function">sym</a> <a id="8250" class="Symbol" href="./">(</a><a id="8251" href="./NOEquality.html#6852" class="Postulate">+-identityʳ</a> <a id="8263" href="./NOEquality.html#8133" class="Bound">n</a><a id="8264" class="Symbol" href="./">)</a> <a id="8266" href="./NOEquality.html#7406" class="Function Operator">⟩</a>
        <a id="8276" href="./NOEquality.html#8133" class="Bound">n</a> <a id="8278" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8280" href="./Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> 
    <a id="8290" href="./NOEquality.html#7541" class="Function Operator">≤-∎</a>    
<a id="8298" href="./NOEquality.html#8037" class="Function">+-monoˡ-≤</a> <a id="8308" href="./NOEquality.html#8308" class="Bound">m</a> <a id="8310" href="./NOEquality.html#8310" class="Bound">n</a> <a id="8312" class="Symbol" href="./">(</a><a id="8313" href="./Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8317" href="./NOEquality.html#8317" class="Bound">p</a><a id="8318" class="Symbol" href="./">)</a> <a id="8320" href="./NOEquality.html#8320" class="Bound">m≤n</a> <a id="8324" class="Symbol" href="./">=</a> 
    <a id="8331" href="./NOEquality.html#7053" class="Function Operator">≤-begin</a>
        <a id="8347" href="./NOEquality.html#8308" class="Bound">m</a> <a id="8349" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8351" href="./Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8355" href="./NOEquality.html#8317" class="Bound">p</a> 
    <a id="8362" href="./NOEquality.html#7406" class="Function Operator">≡→≤⟨</a> <a id="8367" href="./NOEquality.html#6896" class="Postulate">+-suc</a> <a id="8373" href="./NOEquality.html#8308" class="Bound">m</a> <a id="8375" href="./NOEquality.html#8317" class="Bound">p</a> <a id="8377" href="./NOEquality.html#7406" class="Function Operator">⟩</a>
        <a id="8387" href="./Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8391" class="Symbol" href="./">(</a><a id="8392" href="./NOEquality.html#8308" class="Bound">m</a> <a id="8394" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8396" href="./NOEquality.html#8317" class="Bound">p</a><a id="8397" class="Symbol" href="./">)</a> 
    <a id="8404" href="./NOEquality.html#7264" class="Function Operator">≤⟨</a> <a id="8407" href="./Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="8411" class="Symbol" href="./">(</a><a id="8412" href="./NOEquality.html#8037" class="Function">+-monoˡ-≤</a> <a id="8422" href="./NOEquality.html#8308" class="Bound">m</a> <a id="8424" href="./NOEquality.html#8310" class="Bound">n</a> <a id="8426" href="./NOEquality.html#8317" class="Bound">p</a> <a id="8428" href="./NOEquality.html#8320" class="Bound">m≤n</a><a id="8431" class="Symbol" href="./">)</a> <a id="8433" href="./NOEquality.html#7264" class="Function Operator">⟩</a>
        <a id="8443" href="./Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8447" class="Symbol" href="./">(</a><a id="8448" href="./NOEquality.html#8310" class="Bound">n</a> <a id="8450" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8452" href="./NOEquality.html#8317" class="Bound">p</a><a id="8453" class="Symbol" href="./">)</a>
    <a id="8459" href="./NOEquality.html#7406" class="Function Operator">≡→≤⟨</a> <a id="8464" href="./NOEquality.html#1022" class="Function">sym</a> <a id="8468" class="Symbol" href="./">(</a><a id="8469" href="./NOEquality.html#6896" class="Postulate">+-suc</a> <a id="8475" href="./NOEquality.html#8310" class="Bound">n</a> <a id="8477" href="./NOEquality.html#8317" class="Bound">p</a><a id="8478" class="Symbol" href="./">)</a> <a id="8480" href="./NOEquality.html#7406" class="Function Operator">⟩</a>
        <a id="8490" href="./NOEquality.html#8310" class="Bound">n</a> <a id="8492" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8494" href="./Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8498" href="./NOEquality.html#8317" class="Bound">p</a>
    <a id="8504" href="./NOEquality.html#7541" class="Function Operator">≤-∎</a>

<a id="+-mono-≤" href="./"></a><a id="8509" href="./NOEquality.html#8509" class="Function">+-mono-≤</a> <a id="8518" class="Symbol" href="./">:</a> <a id="8520" class="Symbol" href="./">∀</a> <a id="8522" class="Symbol" href="./">(</a><a id="8523" href="./NOEquality.html#8523" class="Bound">m</a> <a id="8525" href="./NOEquality.html#8525" class="Bound">n</a> <a id="8527" href="./NOEquality.html#8527" class="Bound">p</a> <a id="8529" href="./NOEquality.html#8529" class="Bound">q</a> <a id="8531" class="Symbol" href="./">:</a> <a id="8533" href="./Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="8534" class="Symbol" href="./">)</a>
    <a id="8540" class="Symbol" href="./">→</a> <a id="8542" href="./NOEquality.html#8523" class="Bound">m</a> <a id="8544" href="./Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="8546" href="./NOEquality.html#8525" class="Bound">n</a> 
    <a id="8553" class="Symbol" href="./">→</a> <a id="8555" href="./NOEquality.html#8527" class="Bound">p</a> <a id="8557" href="./Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="8559" href="./NOEquality.html#8529" class="Bound">q</a> 
    <a id="8566" class="Comment" href="./">----------------  </a>
    <a id="8589" class="Symbol" href="./">→</a> <a id="8591" href="./NOEquality.html#8523" class="Bound">m</a> <a id="8593" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8595" href="./NOEquality.html#8527" class="Bound">p</a> <a id="8597" href="./Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="8599" href="./NOEquality.html#8525" class="Bound">n</a> <a id="8601" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8603" href="./NOEquality.html#8529" class="Bound">q</a> 
<a id="8606" href="./NOEquality.html#8509" class="Function">+-mono-≤</a> <a id="8615" href="./NOEquality.html#8615" class="Bound">m</a> <a id="8617" href="./NOEquality.html#8617" class="Bound">n</a> <a id="8619" href="./NOEquality.html#8619" class="Bound">p</a> <a id="8621" href="./NOEquality.html#8621" class="Bound">q</a> <a id="8623" href="./NOEquality.html#8623" class="Bound">m≤n</a> <a id="8627" href="./NOEquality.html#8627" class="Bound">p≤q</a> <a id="8631" class="Symbol" href="./">=</a> 
    <a id="8638" href="./NOEquality.html#7053" class="Function Operator">≤-begin</a>
        <a id="8654" href="./NOEquality.html#8615" class="Bound">m</a> <a id="8656" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8658" href="./NOEquality.html#8619" class="Bound">p</a> 
    <a id="8665" href="./NOEquality.html#7264" class="Function Operator">≤⟨</a> <a id="8668" href="./NOEquality.html#8037" class="Function">+-monoˡ-≤</a> <a id="8678" href="./NOEquality.html#8615" class="Bound">m</a> <a id="8680" href="./NOEquality.html#8617" class="Bound">n</a> <a id="8682" href="./NOEquality.html#8619" class="Bound">p</a> <a id="8684" href="./NOEquality.html#8623" class="Bound">m≤n</a> <a id="8688" href="./NOEquality.html#7264" class="Function Operator">⟩</a>
        <a id="8698" href="./NOEquality.html#8617" class="Bound">n</a> <a id="8700" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8702" href="./NOEquality.html#8619" class="Bound">p</a> 
    <a id="8709" href="./NOEquality.html#7264" class="Function Operator">≤⟨</a> <a id="8712" href="./NOEquality.html#7631" class="Function">+-monoʳ-≤</a> <a id="8722" href="./NOEquality.html#8617" class="Bound">n</a> <a id="8724" href="./NOEquality.html#8619" class="Bound">p</a> <a id="8726" href="./NOEquality.html#8621" class="Bound">q</a> <a id="8728" href="./NOEquality.html#8627" class="Bound">p≤q</a> <a id="8732" href="./NOEquality.html#7264" class="Function Operator">⟩</a>
        <a id="8742" href="./NOEquality.html#8617" class="Bound">n</a> <a id="8744" href="./Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8746" href="./NOEquality.html#8621" class="Bound">q</a> 
    <a id="8753" href="./NOEquality.html#7541" class="Function Operator">≤-∎</a>  
</pre>
</div></body></html>
    </div>
    <center><a href="./NORelations.html">上一章</a>  | <a href="">下一章</a> </center>
  </body>
</html>
