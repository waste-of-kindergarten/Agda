---
title     : "Isomorphism: Isomorphism and Embedding"
permalink : /Isomorphism/
---

<pre class="Agda"><a id="97" class="Keyword">module</a> <a id="104" href="plfa.part1.Isomorphism.html" class="Module">plfa.part1.Isomorphism</a> <a id="127" class="Keyword">where</a>
</pre>
This section introduces isomorphism as a way of asserting that two
types are equal, and embedding as a way of asserting that one type is
smaller than another.  We apply isomorphisms in the next chapter
to demonstrate that operations on types such as product and sum
satisfy properties akin to associativity, commutativity, and
distributivity.

## Imports

<pre class="Agda"><a id="502" class="Keyword">import</a> <a id="509" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="547" class="Symbol">as</a> <a id="550" class="Module">Eq</a>
<a id="553" class="Keyword">open</a> <a id="558" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="561" class="Keyword">using</a> <a id="567" class="Symbol">(</a><a id="568" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="571" class="Symbol">;</a> <a id="573" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="577" class="Symbol">;</a> <a id="579" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a><a id="583" class="Symbol">;</a> <a id="585" href="Relation.Binary.PropositionalEquality.Core.html#1470" class="Function">cong-app</a><a id="593" class="Symbol">)</a>
<a id="595" class="Keyword">open</a> <a id="600" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">Eq.≡-Reasoning</a>
<a id="615" class="Keyword">open</a> <a id="620" class="Keyword">import</a> <a id="627" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="636" class="Keyword">using</a> <a id="642" class="Symbol">(</a><a id="643" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="644" class="Symbol">;</a> <a id="646" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="650" class="Symbol">;</a> <a id="652" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="655" class="Symbol">;</a> <a id="657" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a><a id="660" class="Symbol">)</a>
<a id="662" class="Keyword">open</a> <a id="667" class="Keyword">import</a> <a id="674" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="694" class="Keyword">using</a> <a id="700" class="Symbol">(</a><a id="701" href="Data.Nat.Properties.html#13404" class="Function">+-comm</a><a id="707" class="Symbol">)</a>
</pre>

## Lambda expressions

The chapter begins with a few preliminaries that will be useful
here and elsewhere: lambda expressions, function composition, and
extensionality.

_Lambda expressions_ provide a compact way to define functions without
naming them.  A term of the form

    λ{ P₁ → N₁; ⋯ ; Pₙ → Nₙ }

is equivalent to a function `f` defined by the equations

    f P₁ = N₁
    ⋯
    f Pₙ = Nₙ

where the `Pₙ` are patterns (left-hand sides of an equation) and the
`Nₙ` are expressions (right-hand side of an equation).

In the case that there is one equation and the pattern is a variable,
we may also use the syntax

    λ x → N

or

    λ (x : A) → N

both of which are equivalent to `λ{x → N}`. The latter allows one to
specify the domain of the function.

Often using an anonymous lambda expression is more convenient than
using a named function: it avoids a lengthy type declaration; and the
definition appears exactly where the function is used, so there is no
need for the writer to remember to declare it in advance, or for the
reader to search for the definition in the code.


## Function composition

In what follows, we will make use of function composition:
<pre class="Agda"><a id="_∘_"></a><a id="1898" href="plfa.part1.Isomorphism.html#1898" class="Function Operator">_∘_</a> <a id="1902" class="Symbol">:</a> <a id="1904" class="Symbol">∀</a> <a id="1906" class="Symbol">{</a><a id="1907" href="plfa.part1.Isomorphism.html#1907" class="Bound">A</a> <a id="1909" href="plfa.part1.Isomorphism.html#1909" class="Bound">B</a> <a id="1911" href="plfa.part1.Isomorphism.html#1911" class="Bound">C</a> <a id="1913" class="Symbol">:</a> <a id="1915" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="1918" class="Symbol">}</a> <a id="1920" class="Symbol">→</a> <a id="1922" class="Symbol">(</a><a id="1923" href="plfa.part1.Isomorphism.html#1909" class="Bound">B</a> <a id="1925" class="Symbol">→</a> <a id="1927" href="plfa.part1.Isomorphism.html#1911" class="Bound">C</a><a id="1928" class="Symbol">)</a> <a id="1930" class="Symbol">→</a> <a id="1932" class="Symbol">(</a><a id="1933" href="plfa.part1.Isomorphism.html#1907" class="Bound">A</a> <a id="1935" class="Symbol">→</a> <a id="1937" href="plfa.part1.Isomorphism.html#1909" class="Bound">B</a><a id="1938" class="Symbol">)</a> <a id="1940" class="Symbol">→</a> <a id="1942" class="Symbol">(</a><a id="1943" href="plfa.part1.Isomorphism.html#1907" class="Bound">A</a> <a id="1945" class="Symbol">→</a> <a id="1947" href="plfa.part1.Isomorphism.html#1911" class="Bound">C</a><a id="1948" class="Symbol">)</a>
<a id="1950" class="Symbol">(</a><a id="1951" href="plfa.part1.Isomorphism.html#1951" class="Bound">g</a> <a id="1953" href="plfa.part1.Isomorphism.html#1898" class="Function Operator">∘</a> <a id="1955" href="plfa.part1.Isomorphism.html#1955" class="Bound">f</a><a id="1956" class="Symbol">)</a> <a id="1958" href="plfa.part1.Isomorphism.html#1958" class="Bound">x</a>  <a id="1961" class="Symbol">=</a> <a id="1963" href="plfa.part1.Isomorphism.html#1951" class="Bound">g</a> <a id="1965" class="Symbol">(</a><a id="1966" href="plfa.part1.Isomorphism.html#1955" class="Bound">f</a> <a id="1968" href="plfa.part1.Isomorphism.html#1958" class="Bound">x</a><a id="1969" class="Symbol">)</a>
</pre>Thus, `g ∘ f` is the function that first applies `f` and
then applies `g`.  An equivalent definition, exploiting lambda
expressions, is as follows:
<pre class="Agda"><a id="_∘′_"></a><a id="2131" href="plfa.part1.Isomorphism.html#2131" class="Function Operator">_∘′_</a> <a id="2136" class="Symbol">:</a> <a id="2138" class="Symbol">∀</a> <a id="2140" class="Symbol">{</a><a id="2141" href="plfa.part1.Isomorphism.html#2141" class="Bound">A</a> <a id="2143" href="plfa.part1.Isomorphism.html#2143" class="Bound">B</a> <a id="2145" href="plfa.part1.Isomorphism.html#2145" class="Bound">C</a> <a id="2147" class="Symbol">:</a> <a id="2149" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="2152" class="Symbol">}</a> <a id="2154" class="Symbol">→</a> <a id="2156" class="Symbol">(</a><a id="2157" href="plfa.part1.Isomorphism.html#2143" class="Bound">B</a> <a id="2159" class="Symbol">→</a> <a id="2161" href="plfa.part1.Isomorphism.html#2145" class="Bound">C</a><a id="2162" class="Symbol">)</a> <a id="2164" class="Symbol">→</a> <a id="2166" class="Symbol">(</a><a id="2167" href="plfa.part1.Isomorphism.html#2141" class="Bound">A</a> <a id="2169" class="Symbol">→</a> <a id="2171" href="plfa.part1.Isomorphism.html#2143" class="Bound">B</a><a id="2172" class="Symbol">)</a> <a id="2174" class="Symbol">→</a> <a id="2176" class="Symbol">(</a><a id="2177" href="plfa.part1.Isomorphism.html#2141" class="Bound">A</a> <a id="2179" class="Symbol">→</a> <a id="2181" href="plfa.part1.Isomorphism.html#2145" class="Bound">C</a><a id="2182" class="Symbol">)</a>
<a id="2184" href="plfa.part1.Isomorphism.html#2184" class="Bound">g</a> <a id="2186" href="plfa.part1.Isomorphism.html#2131" class="Function Operator">∘′</a> <a id="2189" href="plfa.part1.Isomorphism.html#2189" class="Bound">f</a>  <a id="2192" class="Symbol">=</a>  <a id="2195" class="Symbol">λ</a> <a id="2197" href="plfa.part1.Isomorphism.html#2197" class="Bound">x</a> <a id="2199" class="Symbol">→</a> <a id="2201" href="plfa.part1.Isomorphism.html#2184" class="Bound">g</a> <a id="2203" class="Symbol">(</a><a id="2204" href="plfa.part1.Isomorphism.html#2189" class="Bound">f</a> <a id="2206" href="plfa.part1.Isomorphism.html#2197" class="Bound">x</a><a id="2207" class="Symbol">)</a>
</pre>

## Extensionality {#extensionality}

Extensionality asserts that the only way to distinguish functions is
by applying them; if two functions applied to the same argument always
yield the same result, then they are the same function.  It is the
converse of `cong-app`, as introduced
[earlier](/Equality/#cong).

Agda does not presume extensionality, but we can postulate that it holds:
<pre class="Agda"><a id="2608" class="Keyword">postulate</a>
  <a id="extensionality"></a><a id="2620" href="plfa.part1.Isomorphism.html#2620" class="Postulate">extensionality</a> <a id="2635" class="Symbol">:</a> <a id="2637" class="Symbol">∀</a> <a id="2639" class="Symbol">{</a><a id="2640" href="plfa.part1.Isomorphism.html#2640" class="Bound">A</a> <a id="2642" href="plfa.part1.Isomorphism.html#2642" class="Bound">B</a> <a id="2644" class="Symbol">:</a> <a id="2646" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="2649" class="Symbol">}</a> <a id="2651" class="Symbol">{</a><a id="2652" href="plfa.part1.Isomorphism.html#2652" class="Bound">f</a> <a id="2654" href="plfa.part1.Isomorphism.html#2654" class="Bound">g</a> <a id="2656" class="Symbol">:</a> <a id="2658" href="plfa.part1.Isomorphism.html#2640" class="Bound">A</a> <a id="2660" class="Symbol">→</a> <a id="2662" href="plfa.part1.Isomorphism.html#2642" class="Bound">B</a><a id="2663" class="Symbol">}</a>
    <a id="2669" class="Symbol">→</a> <a id="2671" class="Symbol">(∀</a> <a id="2674" class="Symbol">(</a><a id="2675" href="plfa.part1.Isomorphism.html#2675" class="Bound">x</a> <a id="2677" class="Symbol">:</a> <a id="2679" href="plfa.part1.Isomorphism.html#2640" class="Bound">A</a><a id="2680" class="Symbol">)</a> <a id="2682" class="Symbol">→</a> <a id="2684" href="plfa.part1.Isomorphism.html#2652" class="Bound">f</a> <a id="2686" href="plfa.part1.Isomorphism.html#2675" class="Bound">x</a> <a id="2688" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2690" href="plfa.part1.Isomorphism.html#2654" class="Bound">g</a> <a id="2692" href="plfa.part1.Isomorphism.html#2675" class="Bound">x</a><a id="2693" class="Symbol">)</a>
      <a id="2701" class="Comment">-----------------------</a>
    <a id="2729" class="Symbol">→</a> <a id="2731" href="plfa.part1.Isomorphism.html#2652" class="Bound">f</a> <a id="2733" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2735" href="plfa.part1.Isomorphism.html#2654" class="Bound">g</a>
</pre>Postulating extensionality does not lead to difficulties, as it is
known to be consistent with the theory that underlies Agda.

As an example, consider that we need results from two libraries,
one where addition is defined, as in
Chapter [Naturals](/Naturals/),
and one where it is defined the other way around.
<pre class="Agda"><a id="_+′_"></a><a id="3061" href="plfa.part1.Isomorphism.html#3061" class="Function Operator">_+′_</a> <a id="3066" class="Symbol">:</a> <a id="3068" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3070" class="Symbol">→</a> <a id="3072" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3074" class="Symbol">→</a> <a id="3076" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="3078" href="plfa.part1.Isomorphism.html#3078" class="Bound">m</a> <a id="3080" href="plfa.part1.Isomorphism.html#3061" class="Function Operator">+′</a> <a id="3083" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>  <a id="3089" class="Symbol">=</a> <a id="3091" href="plfa.part1.Isomorphism.html#3078" class="Bound">m</a>
<a id="3093" href="plfa.part1.Isomorphism.html#3093" class="Bound">m</a> <a id="3095" href="plfa.part1.Isomorphism.html#3061" class="Function Operator">+′</a> <a id="3098" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3102" href="plfa.part1.Isomorphism.html#3102" class="Bound">n</a> <a id="3104" class="Symbol">=</a> <a id="3106" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3110" class="Symbol">(</a><a id="3111" href="plfa.part1.Isomorphism.html#3093" class="Bound">m</a> <a id="3113" href="plfa.part1.Isomorphism.html#3061" class="Function Operator">+′</a> <a id="3116" href="plfa.part1.Isomorphism.html#3102" class="Bound">n</a><a id="3117" class="Symbol">)</a>
</pre>Applying commutativity, it is easy to show that both operators always
return the same result given the same arguments:
<pre class="Agda"><a id="same-app"></a><a id="3250" href="plfa.part1.Isomorphism.html#3250" class="Function">same-app</a> <a id="3259" class="Symbol">:</a> <a id="3261" class="Symbol">∀</a> <a id="3263" class="Symbol">(</a><a id="3264" href="plfa.part1.Isomorphism.html#3264" class="Bound">m</a> <a id="3266" href="plfa.part1.Isomorphism.html#3266" class="Bound">n</a> <a id="3268" class="Symbol">:</a> <a id="3270" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3271" class="Symbol">)</a> <a id="3273" class="Symbol">→</a> <a id="3275" href="plfa.part1.Isomorphism.html#3264" class="Bound">m</a> <a id="3277" href="plfa.part1.Isomorphism.html#3061" class="Function Operator">+′</a> <a id="3280" href="plfa.part1.Isomorphism.html#3266" class="Bound">n</a> <a id="3282" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3284" href="plfa.part1.Isomorphism.html#3264" class="Bound">m</a> <a id="3286" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3288" href="plfa.part1.Isomorphism.html#3266" class="Bound">n</a>
<a id="3290" href="plfa.part1.Isomorphism.html#3250" class="Function">same-app</a> <a id="3299" href="plfa.part1.Isomorphism.html#3299" class="Bound">m</a> <a id="3301" href="plfa.part1.Isomorphism.html#3301" class="Bound">n</a> <a id="3303" class="Keyword">rewrite</a> <a id="3311" href="Data.Nat.Properties.html#13404" class="Function">+-comm</a> <a id="3318" href="plfa.part1.Isomorphism.html#3299" class="Bound">m</a> <a id="3320" href="plfa.part1.Isomorphism.html#3301" class="Bound">n</a> <a id="3322" class="Symbol">=</a> <a id="3324" href="plfa.part1.Isomorphism.html#3345" class="Function">helper</a> <a id="3331" href="plfa.part1.Isomorphism.html#3299" class="Bound">m</a> <a id="3333" href="plfa.part1.Isomorphism.html#3301" class="Bound">n</a>
  <a id="3337" class="Keyword">where</a>
  <a id="3345" href="plfa.part1.Isomorphism.html#3345" class="Function">helper</a> <a id="3352" class="Symbol">:</a> <a id="3354" class="Symbol">∀</a> <a id="3356" class="Symbol">(</a><a id="3357" href="plfa.part1.Isomorphism.html#3357" class="Bound">m</a> <a id="3359" href="plfa.part1.Isomorphism.html#3359" class="Bound">n</a> <a id="3361" class="Symbol">:</a> <a id="3363" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3364" class="Symbol">)</a> <a id="3366" class="Symbol">→</a> <a id="3368" href="plfa.part1.Isomorphism.html#3357" class="Bound">m</a> <a id="3370" href="plfa.part1.Isomorphism.html#3061" class="Function Operator">+′</a> <a id="3373" href="plfa.part1.Isomorphism.html#3359" class="Bound">n</a> <a id="3375" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3377" href="plfa.part1.Isomorphism.html#3359" class="Bound">n</a> <a id="3379" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3381" href="plfa.part1.Isomorphism.html#3357" class="Bound">m</a>
  <a id="3385" href="plfa.part1.Isomorphism.html#3345" class="Function">helper</a> <a id="3392" href="plfa.part1.Isomorphism.html#3392" class="Bound">m</a> <a id="3394" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>    <a id="3402" class="Symbol">=</a> <a id="3404" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3411" href="plfa.part1.Isomorphism.html#3345" class="Function">helper</a> <a id="3418" href="plfa.part1.Isomorphism.html#3418" class="Bound">m</a> <a id="3420" class="Symbol">(</a><a id="3421" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3425" href="plfa.part1.Isomorphism.html#3425" class="Bound">n</a><a id="3426" class="Symbol">)</a> <a id="3428" class="Symbol">=</a> <a id="3430" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="3435" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3439" class="Symbol">(</a><a id="3440" href="plfa.part1.Isomorphism.html#3345" class="Function">helper</a> <a id="3447" href="plfa.part1.Isomorphism.html#3418" class="Bound">m</a> <a id="3449" href="plfa.part1.Isomorphism.html#3425" class="Bound">n</a><a id="3450" class="Symbol">)</a>
</pre>However, it might be convenient to assert that the two operators are
actually indistinguishable. This we can do via two applications of
extensionality:
<pre class="Agda"><a id="same"></a><a id="3616" href="plfa.part1.Isomorphism.html#3616" class="Function">same</a> <a id="3621" class="Symbol">:</a> <a id="3623" href="plfa.part1.Isomorphism.html#3061" class="Function Operator">_+′_</a> <a id="3628" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3630" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a>
<a id="3634" href="plfa.part1.Isomorphism.html#3616" class="Function">same</a> <a id="3639" class="Symbol">=</a> <a id="3641" href="plfa.part1.Isomorphism.html#2620" class="Postulate">extensionality</a> <a id="3656" class="Symbol">(λ</a> <a id="3659" href="plfa.part1.Isomorphism.html#3659" class="Bound">m</a> <a id="3661" class="Symbol">→</a> <a id="3663" href="plfa.part1.Isomorphism.html#2620" class="Postulate">extensionality</a> <a id="3678" class="Symbol">(λ</a> <a id="3681" href="plfa.part1.Isomorphism.html#3681" class="Bound">n</a> <a id="3683" class="Symbol">→</a> <a id="3685" href="plfa.part1.Isomorphism.html#3250" class="Function">same-app</a> <a id="3694" href="plfa.part1.Isomorphism.html#3659" class="Bound">m</a> <a id="3696" href="plfa.part1.Isomorphism.html#3681" class="Bound">n</a><a id="3697" class="Symbol">))</a>
</pre>We occasionally need to postulate extensionality in what follows.

More generally, we may wish to postulate extensionality for
dependent functions.
<pre class="Agda"><a id="3860" class="Keyword">postulate</a>
  <a id="∀-extensionality"></a><a id="3872" href="plfa.part1.Isomorphism.html#3872" class="Postulate">∀-extensionality</a> <a id="3889" class="Symbol">:</a> <a id="3891" class="Symbol">∀</a> <a id="3893" class="Symbol">{</a><a id="3894" href="plfa.part1.Isomorphism.html#3894" class="Bound">A</a> <a id="3896" class="Symbol">:</a> <a id="3898" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="3901" class="Symbol">}</a> <a id="3903" class="Symbol">{</a><a id="3904" href="plfa.part1.Isomorphism.html#3904" class="Bound">B</a> <a id="3906" class="Symbol">:</a> <a id="3908" href="plfa.part1.Isomorphism.html#3894" class="Bound">A</a> <a id="3910" class="Symbol">→</a> <a id="3912" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="3915" class="Symbol">}</a> <a id="3917" class="Symbol">{</a><a id="3918" href="plfa.part1.Isomorphism.html#3918" class="Bound">f</a> <a id="3920" href="plfa.part1.Isomorphism.html#3920" class="Bound">g</a> <a id="3922" class="Symbol">:</a> <a id="3924" class="Symbol">∀(</a><a id="3926" href="plfa.part1.Isomorphism.html#3926" class="Bound">x</a> <a id="3928" class="Symbol">:</a> <a id="3930" href="plfa.part1.Isomorphism.html#3894" class="Bound">A</a><a id="3931" class="Symbol">)</a> <a id="3933" class="Symbol">→</a> <a id="3935" href="plfa.part1.Isomorphism.html#3904" class="Bound">B</a> <a id="3937" href="plfa.part1.Isomorphism.html#3926" class="Bound">x</a><a id="3938" class="Symbol">}</a>
    <a id="3944" class="Symbol">→</a> <a id="3946" class="Symbol">(∀</a> <a id="3949" class="Symbol">(</a><a id="3950" href="plfa.part1.Isomorphism.html#3950" class="Bound">x</a> <a id="3952" class="Symbol">:</a> <a id="3954" href="plfa.part1.Isomorphism.html#3894" class="Bound">A</a><a id="3955" class="Symbol">)</a> <a id="3957" class="Symbol">→</a> <a id="3959" href="plfa.part1.Isomorphism.html#3918" class="Bound">f</a> <a id="3961" href="plfa.part1.Isomorphism.html#3950" class="Bound">x</a> <a id="3963" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3965" href="plfa.part1.Isomorphism.html#3920" class="Bound">g</a> <a id="3967" href="plfa.part1.Isomorphism.html#3950" class="Bound">x</a><a id="3968" class="Symbol">)</a>
      <a id="3976" class="Comment">-----------------------</a>
    <a id="4004" class="Symbol">→</a> <a id="4006" href="plfa.part1.Isomorphism.html#3918" class="Bound">f</a> <a id="4008" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4010" href="plfa.part1.Isomorphism.html#3920" class="Bound">g</a>
</pre>Here the type of `f` and `g` has changed from `A → B` to
`∀ (x : A) → B x`, generalising ordinary functions to
dependent functions.


## Isomorphism

Two sets are isomorphic if they are in one-to-one correspondence.
Here is a formal definition of isomorphism:
<pre class="Agda"><a id="4284" class="Keyword">infix</a> <a id="4290" class="Number">0</a> <a id="4292" href="plfa.part1.Isomorphism.html#4303" class="Record Operator">_≃_</a>
<a id="4296" class="Keyword">record</a> <a id="_≃_"></a><a id="4303" href="plfa.part1.Isomorphism.html#4303" class="Record Operator">_≃_</a> <a id="4307" class="Symbol">(</a><a id="4308" href="plfa.part1.Isomorphism.html#4308" class="Bound">A</a> <a id="4310" href="plfa.part1.Isomorphism.html#4310" class="Bound">B</a> <a id="4312" class="Symbol">:</a> <a id="4314" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="4317" class="Symbol">)</a> <a id="4319" class="Symbol">:</a> <a id="4321" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="4325" class="Keyword">where</a>
  <a id="4333" class="Keyword">field</a>
    <a id="_≃_.to"></a><a id="4343" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a>   <a id="4348" class="Symbol">:</a> <a id="4350" href="plfa.part1.Isomorphism.html#4308" class="Bound">A</a> <a id="4352" class="Symbol">→</a> <a id="4354" href="plfa.part1.Isomorphism.html#4310" class="Bound">B</a>
    <a id="_≃_.from"></a><a id="4360" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a> <a id="4365" class="Symbol">:</a> <a id="4367" href="plfa.part1.Isomorphism.html#4310" class="Bound">B</a> <a id="4369" class="Symbol">→</a> <a id="4371" href="plfa.part1.Isomorphism.html#4308" class="Bound">A</a>
    <a id="_≃_.from∘to"></a><a id="4377" href="plfa.part1.Isomorphism.html#4377" class="Field">from∘to</a> <a id="4385" class="Symbol">:</a> <a id="4387" class="Symbol">∀</a> <a id="4389" class="Symbol">(</a><a id="4390" href="plfa.part1.Isomorphism.html#4390" class="Bound">x</a> <a id="4392" class="Symbol">:</a> <a id="4394" href="plfa.part1.Isomorphism.html#4308" class="Bound">A</a><a id="4395" class="Symbol">)</a> <a id="4397" class="Symbol">→</a> <a id="4399" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a> <a id="4404" class="Symbol">(</a><a id="4405" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a> <a id="4408" href="plfa.part1.Isomorphism.html#4390" class="Bound">x</a><a id="4409" class="Symbol">)</a> <a id="4411" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4413" href="plfa.part1.Isomorphism.html#4390" class="Bound">x</a>
    <a id="_≃_.to∘from"></a><a id="4419" href="plfa.part1.Isomorphism.html#4419" class="Field">to∘from</a> <a id="4427" class="Symbol">:</a> <a id="4429" class="Symbol">∀</a> <a id="4431" class="Symbol">(</a><a id="4432" href="plfa.part1.Isomorphism.html#4432" class="Bound">y</a> <a id="4434" class="Symbol">:</a> <a id="4436" href="plfa.part1.Isomorphism.html#4310" class="Bound">B</a><a id="4437" class="Symbol">)</a> <a id="4439" class="Symbol">→</a> <a id="4441" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a> <a id="4444" class="Symbol">(</a><a id="4445" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a> <a id="4450" href="plfa.part1.Isomorphism.html#4432" class="Bound">y</a><a id="4451" class="Symbol">)</a> <a id="4453" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4455" href="plfa.part1.Isomorphism.html#4432" class="Bound">y</a>
<a id="4457" class="Keyword">open</a> <a id="4462" href="plfa.part1.Isomorphism.html#4303" class="Module Operator">_≃_</a>
</pre>Let's unpack the definition. An isomorphism between sets `A` and `B` consists
of four things:

  1. A function `to` from `A` to `B`,
  2. A function `from` from `B` back to `A`,
  3. Evidence `from∘to` asserting that `from` is a *left-inverse* for `to`,
  4. Evidence `to∘from` asserting that `from` is a *right-inverse* for `to`.

In particular, the third asserts that `from ∘ to` is the identity, and
the fourth that `to ∘ from` is the identity, hence the names.
The declaration `open _≃_` makes available the names `to`, `from`,
`from∘to`, and `to∘from`, otherwise we would need to write `_≃_.to` and so on.

The above is our first use of records. A record declaration behaves similar to a single-constructor data declaration (there are minor differences, which we discuss in [Connectives](/Connectives/)):
<pre class="Agda"><a id="5288" class="Keyword">data</a> <a id="_≃′_"></a><a id="5293" href="plfa.part1.Isomorphism.html#5293" class="Datatype Operator">_≃′_</a> <a id="5298" class="Symbol">(</a><a id="5299" href="plfa.part1.Isomorphism.html#5299" class="Bound">A</a> <a id="5301" href="plfa.part1.Isomorphism.html#5301" class="Bound">B</a> <a id="5303" class="Symbol">:</a> <a id="5305" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="5308" class="Symbol">):</a> <a id="5311" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="5315" class="Keyword">where</a>
  <a id="_≃′_.mk-≃′"></a><a id="5323" href="plfa.part1.Isomorphism.html#5323" class="InductiveConstructor">mk-≃′</a> <a id="5329" class="Symbol">:</a> <a id="5331" class="Symbol">∀</a> <a id="5333" class="Symbol">(</a><a id="5334" href="plfa.part1.Isomorphism.html#5334" class="Bound">to</a> <a id="5337" class="Symbol">:</a> <a id="5339" href="plfa.part1.Isomorphism.html#5299" class="Bound">A</a> <a id="5341" class="Symbol">→</a> <a id="5343" href="plfa.part1.Isomorphism.html#5301" class="Bound">B</a><a id="5344" class="Symbol">)</a> <a id="5346" class="Symbol">→</a>
          <a id="5358" class="Symbol">∀</a> <a id="5360" class="Symbol">(</a><a id="5361" href="plfa.part1.Isomorphism.html#5361" class="Bound">from</a> <a id="5366" class="Symbol">:</a> <a id="5368" href="plfa.part1.Isomorphism.html#5301" class="Bound">B</a> <a id="5370" class="Symbol">→</a> <a id="5372" href="plfa.part1.Isomorphism.html#5299" class="Bound">A</a><a id="5373" class="Symbol">)</a> <a id="5375" class="Symbol">→</a>
          <a id="5387" class="Symbol">∀</a> <a id="5389" class="Symbol">(</a><a id="5390" href="plfa.part1.Isomorphism.html#5390" class="Bound">from∘to</a> <a id="5398" class="Symbol">:</a> <a id="5400" class="Symbol">(∀</a> <a id="5403" class="Symbol">(</a><a id="5404" href="plfa.part1.Isomorphism.html#5404" class="Bound">x</a> <a id="5406" class="Symbol">:</a> <a id="5408" href="plfa.part1.Isomorphism.html#5299" class="Bound">A</a><a id="5409" class="Symbol">)</a> <a id="5411" class="Symbol">→</a> <a id="5413" href="plfa.part1.Isomorphism.html#5361" class="Bound">from</a> <a id="5418" class="Symbol">(</a><a id="5419" href="plfa.part1.Isomorphism.html#5334" class="Bound">to</a> <a id="5422" href="plfa.part1.Isomorphism.html#5404" class="Bound">x</a><a id="5423" class="Symbol">)</a> <a id="5425" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5427" href="plfa.part1.Isomorphism.html#5404" class="Bound">x</a><a id="5428" class="Symbol">))</a> <a id="5431" class="Symbol">→</a>
          <a id="5443" class="Symbol">∀</a> <a id="5445" class="Symbol">(</a><a id="5446" href="plfa.part1.Isomorphism.html#5446" class="Bound">to∘from</a> <a id="5454" class="Symbol">:</a> <a id="5456" class="Symbol">(∀</a> <a id="5459" class="Symbol">(</a><a id="5460" href="plfa.part1.Isomorphism.html#5460" class="Bound">y</a> <a id="5462" class="Symbol">:</a> <a id="5464" href="plfa.part1.Isomorphism.html#5301" class="Bound">B</a><a id="5465" class="Symbol">)</a> <a id="5467" class="Symbol">→</a> <a id="5469" href="plfa.part1.Isomorphism.html#5334" class="Bound">to</a> <a id="5472" class="Symbol">(</a><a id="5473" href="plfa.part1.Isomorphism.html#5361" class="Bound">from</a> <a id="5478" href="plfa.part1.Isomorphism.html#5460" class="Bound">y</a><a id="5479" class="Symbol">)</a> <a id="5481" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5483" href="plfa.part1.Isomorphism.html#5460" class="Bound">y</a><a id="5484" class="Symbol">))</a> <a id="5487" class="Symbol">→</a>
          <a id="5499" href="plfa.part1.Isomorphism.html#5299" class="Bound">A</a> <a id="5501" href="plfa.part1.Isomorphism.html#5293" class="Datatype Operator">≃′</a> <a id="5504" href="plfa.part1.Isomorphism.html#5301" class="Bound">B</a>

<a id="to′"></a><a id="5507" href="plfa.part1.Isomorphism.html#5507" class="Function">to′</a> <a id="5511" class="Symbol">:</a> <a id="5513" class="Symbol">∀</a> <a id="5515" class="Symbol">{</a><a id="5516" href="plfa.part1.Isomorphism.html#5516" class="Bound">A</a> <a id="5518" href="plfa.part1.Isomorphism.html#5518" class="Bound">B</a> <a id="5520" class="Symbol">:</a> <a id="5522" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="5525" class="Symbol">}</a> <a id="5527" class="Symbol">→</a> <a id="5529" class="Symbol">(</a><a id="5530" href="plfa.part1.Isomorphism.html#5516" class="Bound">A</a> <a id="5532" href="plfa.part1.Isomorphism.html#5293" class="Datatype Operator">≃′</a> <a id="5535" href="plfa.part1.Isomorphism.html#5518" class="Bound">B</a><a id="5536" class="Symbol">)</a> <a id="5538" class="Symbol">→</a> <a id="5540" class="Symbol">(</a><a id="5541" href="plfa.part1.Isomorphism.html#5516" class="Bound">A</a> <a id="5543" class="Symbol">→</a> <a id="5545" href="plfa.part1.Isomorphism.html#5518" class="Bound">B</a><a id="5546" class="Symbol">)</a>
<a id="5548" href="plfa.part1.Isomorphism.html#5507" class="Function">to′</a> <a id="5552" class="Symbol">(</a><a id="5553" href="plfa.part1.Isomorphism.html#5323" class="InductiveConstructor">mk-≃′</a> <a id="5559" href="plfa.part1.Isomorphism.html#5559" class="Bound">f</a> <a id="5561" href="plfa.part1.Isomorphism.html#5561" class="Bound">g</a> <a id="5563" href="plfa.part1.Isomorphism.html#5563" class="Bound">g∘f</a> <a id="5567" href="plfa.part1.Isomorphism.html#5567" class="Bound">f∘g</a><a id="5570" class="Symbol">)</a> <a id="5572" class="Symbol">=</a> <a id="5574" href="plfa.part1.Isomorphism.html#5559" class="Bound">f</a>

<a id="from′"></a><a id="5577" href="plfa.part1.Isomorphism.html#5577" class="Function">from′</a> <a id="5583" class="Symbol">:</a> <a id="5585" class="Symbol">∀</a> <a id="5587" class="Symbol">{</a><a id="5588" href="plfa.part1.Isomorphism.html#5588" class="Bound">A</a> <a id="5590" href="plfa.part1.Isomorphism.html#5590" class="Bound">B</a> <a id="5592" class="Symbol">:</a> <a id="5594" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="5597" class="Symbol">}</a> <a id="5599" class="Symbol">→</a> <a id="5601" class="Symbol">(</a><a id="5602" href="plfa.part1.Isomorphism.html#5588" class="Bound">A</a> <a id="5604" href="plfa.part1.Isomorphism.html#5293" class="Datatype Operator">≃′</a> <a id="5607" href="plfa.part1.Isomorphism.html#5590" class="Bound">B</a><a id="5608" class="Symbol">)</a> <a id="5610" class="Symbol">→</a> <a id="5612" class="Symbol">(</a><a id="5613" href="plfa.part1.Isomorphism.html#5590" class="Bound">B</a> <a id="5615" class="Symbol">→</a> <a id="5617" href="plfa.part1.Isomorphism.html#5588" class="Bound">A</a><a id="5618" class="Symbol">)</a>
<a id="5620" href="plfa.part1.Isomorphism.html#5577" class="Function">from′</a> <a id="5626" class="Symbol">(</a><a id="5627" href="plfa.part1.Isomorphism.html#5323" class="InductiveConstructor">mk-≃′</a> <a id="5633" href="plfa.part1.Isomorphism.html#5633" class="Bound">f</a> <a id="5635" href="plfa.part1.Isomorphism.html#5635" class="Bound">g</a> <a id="5637" href="plfa.part1.Isomorphism.html#5637" class="Bound">g∘f</a> <a id="5641" href="plfa.part1.Isomorphism.html#5641" class="Bound">f∘g</a><a id="5644" class="Symbol">)</a> <a id="5646" class="Symbol">=</a> <a id="5648" href="plfa.part1.Isomorphism.html#5635" class="Bound">g</a>

<a id="from∘to′"></a><a id="5651" href="plfa.part1.Isomorphism.html#5651" class="Function">from∘to′</a> <a id="5660" class="Symbol">:</a> <a id="5662" class="Symbol">∀</a> <a id="5664" class="Symbol">{</a><a id="5665" href="plfa.part1.Isomorphism.html#5665" class="Bound">A</a> <a id="5667" href="plfa.part1.Isomorphism.html#5667" class="Bound">B</a> <a id="5669" class="Symbol">:</a> <a id="5671" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="5674" class="Symbol">}</a> <a id="5676" class="Symbol">→</a> <a id="5678" class="Symbol">(</a><a id="5679" href="plfa.part1.Isomorphism.html#5679" class="Bound">A≃B</a> <a id="5683" class="Symbol">:</a> <a id="5685" href="plfa.part1.Isomorphism.html#5665" class="Bound">A</a> <a id="5687" href="plfa.part1.Isomorphism.html#5293" class="Datatype Operator">≃′</a> <a id="5690" href="plfa.part1.Isomorphism.html#5667" class="Bound">B</a><a id="5691" class="Symbol">)</a> <a id="5693" class="Symbol">→</a> <a id="5695" class="Symbol">(∀</a> <a id="5698" class="Symbol">(</a><a id="5699" href="plfa.part1.Isomorphism.html#5699" class="Bound">x</a> <a id="5701" class="Symbol">:</a> <a id="5703" href="plfa.part1.Isomorphism.html#5665" class="Bound">A</a><a id="5704" class="Symbol">)</a> <a id="5706" class="Symbol">→</a> <a id="5708" href="plfa.part1.Isomorphism.html#5577" class="Function">from′</a> <a id="5714" href="plfa.part1.Isomorphism.html#5679" class="Bound">A≃B</a> <a id="5718" class="Symbol">(</a><a id="5719" href="plfa.part1.Isomorphism.html#5507" class="Function">to′</a> <a id="5723" href="plfa.part1.Isomorphism.html#5679" class="Bound">A≃B</a> <a id="5727" href="plfa.part1.Isomorphism.html#5699" class="Bound">x</a><a id="5728" class="Symbol">)</a> <a id="5730" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5732" href="plfa.part1.Isomorphism.html#5699" class="Bound">x</a><a id="5733" class="Symbol">)</a>
<a id="5735" href="plfa.part1.Isomorphism.html#5651" class="Function">from∘to′</a> <a id="5744" class="Symbol">(</a><a id="5745" href="plfa.part1.Isomorphism.html#5323" class="InductiveConstructor">mk-≃′</a> <a id="5751" href="plfa.part1.Isomorphism.html#5751" class="Bound">f</a> <a id="5753" href="plfa.part1.Isomorphism.html#5753" class="Bound">g</a> <a id="5755" href="plfa.part1.Isomorphism.html#5755" class="Bound">g∘f</a> <a id="5759" href="plfa.part1.Isomorphism.html#5759" class="Bound">f∘g</a><a id="5762" class="Symbol">)</a> <a id="5764" class="Symbol">=</a> <a id="5766" href="plfa.part1.Isomorphism.html#5755" class="Bound">g∘f</a>

<a id="to∘from′"></a><a id="5771" href="plfa.part1.Isomorphism.html#5771" class="Function">to∘from′</a> <a id="5780" class="Symbol">:</a> <a id="5782" class="Symbol">∀</a> <a id="5784" class="Symbol">{</a><a id="5785" href="plfa.part1.Isomorphism.html#5785" class="Bound">A</a> <a id="5787" href="plfa.part1.Isomorphism.html#5787" class="Bound">B</a> <a id="5789" class="Symbol">:</a> <a id="5791" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="5794" class="Symbol">}</a> <a id="5796" class="Symbol">→</a> <a id="5798" class="Symbol">(</a><a id="5799" href="plfa.part1.Isomorphism.html#5799" class="Bound">A≃B</a> <a id="5803" class="Symbol">:</a> <a id="5805" href="plfa.part1.Isomorphism.html#5785" class="Bound">A</a> <a id="5807" href="plfa.part1.Isomorphism.html#5293" class="Datatype Operator">≃′</a> <a id="5810" href="plfa.part1.Isomorphism.html#5787" class="Bound">B</a><a id="5811" class="Symbol">)</a> <a id="5813" class="Symbol">→</a> <a id="5815" class="Symbol">(∀</a> <a id="5818" class="Symbol">(</a><a id="5819" href="plfa.part1.Isomorphism.html#5819" class="Bound">y</a> <a id="5821" class="Symbol">:</a> <a id="5823" href="plfa.part1.Isomorphism.html#5787" class="Bound">B</a><a id="5824" class="Symbol">)</a> <a id="5826" class="Symbol">→</a> <a id="5828" href="plfa.part1.Isomorphism.html#5507" class="Function">to′</a> <a id="5832" href="plfa.part1.Isomorphism.html#5799" class="Bound">A≃B</a> <a id="5836" class="Symbol">(</a><a id="5837" href="plfa.part1.Isomorphism.html#5577" class="Function">from′</a> <a id="5843" href="plfa.part1.Isomorphism.html#5799" class="Bound">A≃B</a> <a id="5847" href="plfa.part1.Isomorphism.html#5819" class="Bound">y</a><a id="5848" class="Symbol">)</a> <a id="5850" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5852" href="plfa.part1.Isomorphism.html#5819" class="Bound">y</a><a id="5853" class="Symbol">)</a>
<a id="5855" href="plfa.part1.Isomorphism.html#5771" class="Function">to∘from′</a> <a id="5864" class="Symbol">(</a><a id="5865" href="plfa.part1.Isomorphism.html#5323" class="InductiveConstructor">mk-≃′</a> <a id="5871" href="plfa.part1.Isomorphism.html#5871" class="Bound">f</a> <a id="5873" href="plfa.part1.Isomorphism.html#5873" class="Bound">g</a> <a id="5875" href="plfa.part1.Isomorphism.html#5875" class="Bound">g∘f</a> <a id="5879" href="plfa.part1.Isomorphism.html#5879" class="Bound">f∘g</a><a id="5882" class="Symbol">)</a> <a id="5884" class="Symbol">=</a> <a id="5886" href="plfa.part1.Isomorphism.html#5879" class="Bound">f∘g</a>
</pre>
We construct values of the record type with the syntax

    record
      { to    = f
      ; from  = g
      ; from∘to = g∘f
      ; to∘from = f∘g
      }

which corresponds to using the constructor of the corresponding
inductive type

    mk-≃′ f g g∘f f∘g

where `f`, `g`, `g∘f`, and `f∘g` are values of suitable types.


## Isomorphism is an equivalence

Isomorphism is an equivalence, meaning that it is reflexive, symmetric,
and transitive.  To show isomorphism is reflexive, we take both `to`
and `from` to be the identity function:
<pre class="Agda"><a id="≃-refl"></a><a id="6442" href="plfa.part1.Isomorphism.html#6442" class="Function">≃-refl</a> <a id="6449" class="Symbol">:</a> <a id="6451" class="Symbol">∀</a> <a id="6453" class="Symbol">{</a><a id="6454" href="plfa.part1.Isomorphism.html#6454" class="Bound">A</a> <a id="6456" class="Symbol">:</a> <a id="6458" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="6461" class="Symbol">}</a>
    <a id="6467" class="Comment">-----</a>
  <a id="6475" class="Symbol">→</a> <a id="6477" href="plfa.part1.Isomorphism.html#6454" class="Bound">A</a> <a id="6479" href="plfa.part1.Isomorphism.html#4303" class="Record Operator">≃</a> <a id="6481" href="plfa.part1.Isomorphism.html#6454" class="Bound">A</a>
<a id="6483" href="plfa.part1.Isomorphism.html#6442" class="Function">≃-refl</a> <a id="6490" class="Symbol">=</a>
  <a id="6494" class="Keyword">record</a>
    <a id="6505" class="Symbol">{</a> <a id="6507" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a>      <a id="6515" class="Symbol">=</a> <a id="6517" class="Symbol">λ{</a><a id="6519" href="plfa.part1.Isomorphism.html#6519" class="Bound">x</a> <a id="6521" class="Symbol">→</a> <a id="6523" href="plfa.part1.Isomorphism.html#6519" class="Bound">x</a><a id="6524" class="Symbol">}</a>
    <a id="6530" class="Symbol">;</a> <a id="6532" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a>    <a id="6540" class="Symbol">=</a> <a id="6542" class="Symbol">λ{</a><a id="6544" href="plfa.part1.Isomorphism.html#6544" class="Bound">y</a> <a id="6546" class="Symbol">→</a> <a id="6548" href="plfa.part1.Isomorphism.html#6544" class="Bound">y</a><a id="6549" class="Symbol">}</a>
    <a id="6555" class="Symbol">;</a> <a id="6557" href="plfa.part1.Isomorphism.html#4377" class="Field">from∘to</a> <a id="6565" class="Symbol">=</a> <a id="6567" class="Symbol">λ{</a><a id="6569" href="plfa.part1.Isomorphism.html#6569" class="Bound">x</a> <a id="6571" class="Symbol">→</a> <a id="6573" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="6577" class="Symbol">}</a>
    <a id="6583" class="Symbol">;</a> <a id="6585" href="plfa.part1.Isomorphism.html#4419" class="Field">to∘from</a> <a id="6593" class="Symbol">=</a> <a id="6595" class="Symbol">λ{</a><a id="6597" href="plfa.part1.Isomorphism.html#6597" class="Bound">y</a> <a id="6599" class="Symbol">→</a> <a id="6601" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="6605" class="Symbol">}</a>
    <a id="6611" class="Symbol">}</a>
</pre>In the above, `to` and `from` are both bound to identity functions,
and `from∘to` and `to∘from` are both bound to functions that discard
their argument and return `refl`.  In this case, `refl` alone is an
adequate proof since for the left inverse, `from (to x)`
simplifies to `x`, and similarly for the right inverse.

To show isomorphism is symmetric, we simply swap the roles of `to`
and `from`, and `from∘to` and `to∘from`:
<pre class="Agda"><a id="≃-sym"></a><a id="7052" href="plfa.part1.Isomorphism.html#7052" class="Function">≃-sym</a> <a id="7058" class="Symbol">:</a> <a id="7060" class="Symbol">∀</a> <a id="7062" class="Symbol">{</a><a id="7063" href="plfa.part1.Isomorphism.html#7063" class="Bound">A</a> <a id="7065" href="plfa.part1.Isomorphism.html#7065" class="Bound">B</a> <a id="7067" class="Symbol">:</a> <a id="7069" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="7072" class="Symbol">}</a>
  <a id="7076" class="Symbol">→</a> <a id="7078" href="plfa.part1.Isomorphism.html#7063" class="Bound">A</a> <a id="7080" href="plfa.part1.Isomorphism.html#4303" class="Record Operator">≃</a> <a id="7082" href="plfa.part1.Isomorphism.html#7065" class="Bound">B</a>
    <a id="7088" class="Comment">-----</a>
  <a id="7096" class="Symbol">→</a> <a id="7098" href="plfa.part1.Isomorphism.html#7065" class="Bound">B</a> <a id="7100" href="plfa.part1.Isomorphism.html#4303" class="Record Operator">≃</a> <a id="7102" href="plfa.part1.Isomorphism.html#7063" class="Bound">A</a>
<a id="7104" href="plfa.part1.Isomorphism.html#7052" class="Function">≃-sym</a> <a id="7110" href="plfa.part1.Isomorphism.html#7110" class="Bound">A≃B</a> <a id="7114" class="Symbol">=</a>
  <a id="7118" class="Keyword">record</a>
    <a id="7129" class="Symbol">{</a> <a id="7131" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a>      <a id="7139" class="Symbol">=</a> <a id="7141" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a> <a id="7146" href="plfa.part1.Isomorphism.html#7110" class="Bound">A≃B</a>
    <a id="7154" class="Symbol">;</a> <a id="7156" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a>    <a id="7164" class="Symbol">=</a> <a id="7166" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a>   <a id="7171" href="plfa.part1.Isomorphism.html#7110" class="Bound">A≃B</a>
    <a id="7179" class="Symbol">;</a> <a id="7181" href="plfa.part1.Isomorphism.html#4377" class="Field">from∘to</a> <a id="7189" class="Symbol">=</a> <a id="7191" href="plfa.part1.Isomorphism.html#4419" class="Field">to∘from</a> <a id="7199" href="plfa.part1.Isomorphism.html#7110" class="Bound">A≃B</a>
    <a id="7207" class="Symbol">;</a> <a id="7209" href="plfa.part1.Isomorphism.html#4419" class="Field">to∘from</a> <a id="7217" class="Symbol">=</a> <a id="7219" href="plfa.part1.Isomorphism.html#4377" class="Field">from∘to</a> <a id="7227" href="plfa.part1.Isomorphism.html#7110" class="Bound">A≃B</a>
    <a id="7235" class="Symbol">}</a>
</pre>
To show isomorphism is transitive, we compose the `to` and `from`
functions, and use equational reasoning to combine the inverses:
<pre class="Agda"><a id="≃-trans"></a><a id="7381" href="plfa.part1.Isomorphism.html#7381" class="Function">≃-trans</a> <a id="7389" class="Symbol">:</a> <a id="7391" class="Symbol">∀</a> <a id="7393" class="Symbol">{</a><a id="7394" href="plfa.part1.Isomorphism.html#7394" class="Bound">A</a> <a id="7396" href="plfa.part1.Isomorphism.html#7396" class="Bound">B</a> <a id="7398" href="plfa.part1.Isomorphism.html#7398" class="Bound">C</a> <a id="7400" class="Symbol">:</a> <a id="7402" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="7405" class="Symbol">}</a>
  <a id="7409" class="Symbol">→</a> <a id="7411" href="plfa.part1.Isomorphism.html#7394" class="Bound">A</a> <a id="7413" href="plfa.part1.Isomorphism.html#4303" class="Record Operator">≃</a> <a id="7415" href="plfa.part1.Isomorphism.html#7396" class="Bound">B</a>
  <a id="7419" class="Symbol">→</a> <a id="7421" href="plfa.part1.Isomorphism.html#7396" class="Bound">B</a> <a id="7423" href="plfa.part1.Isomorphism.html#4303" class="Record Operator">≃</a> <a id="7425" href="plfa.part1.Isomorphism.html#7398" class="Bound">C</a>
    <a id="7431" class="Comment">-----</a>
  <a id="7439" class="Symbol">→</a> <a id="7441" href="plfa.part1.Isomorphism.html#7394" class="Bound">A</a> <a id="7443" href="plfa.part1.Isomorphism.html#4303" class="Record Operator">≃</a> <a id="7445" href="plfa.part1.Isomorphism.html#7398" class="Bound">C</a>
<a id="7447" href="plfa.part1.Isomorphism.html#7381" class="Function">≃-trans</a> <a id="7455" href="plfa.part1.Isomorphism.html#7455" class="Bound">A≃B</a> <a id="7459" href="plfa.part1.Isomorphism.html#7459" class="Bound">B≃C</a> <a id="7463" class="Symbol">=</a>
  <a id="7467" class="Keyword">record</a>
    <a id="7478" class="Symbol">{</a> <a id="7480" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a>       <a id="7489" class="Symbol">=</a> <a id="7491" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a>   <a id="7496" href="plfa.part1.Isomorphism.html#7459" class="Bound">B≃C</a> <a id="7500" href="plfa.part1.Isomorphism.html#1898" class="Function Operator">∘</a> <a id="7502" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a>   <a id="7507" href="plfa.part1.Isomorphism.html#7455" class="Bound">A≃B</a>
    <a id="7515" class="Symbol">;</a> <a id="7517" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a>     <a id="7526" class="Symbol">=</a> <a id="7528" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a> <a id="7533" href="plfa.part1.Isomorphism.html#7455" class="Bound">A≃B</a> <a id="7537" href="plfa.part1.Isomorphism.html#1898" class="Function Operator">∘</a> <a id="7539" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a> <a id="7544" href="plfa.part1.Isomorphism.html#7459" class="Bound">B≃C</a>
    <a id="7552" class="Symbol">;</a> <a id="7554" href="plfa.part1.Isomorphism.html#4377" class="Field">from∘to</a>  <a id="7563" class="Symbol">=</a> <a id="7565" class="Symbol">λ{</a><a id="7567" href="plfa.part1.Isomorphism.html#7567" class="Bound">x</a> <a id="7569" class="Symbol">→</a>
        <a id="7579" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
          <a id="7595" class="Symbol">(</a><a id="7596" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a> <a id="7601" href="plfa.part1.Isomorphism.html#7455" class="Bound">A≃B</a> <a id="7605" href="plfa.part1.Isomorphism.html#1898" class="Function Operator">∘</a> <a id="7607" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a> <a id="7612" href="plfa.part1.Isomorphism.html#7459" class="Bound">B≃C</a><a id="7615" class="Symbol">)</a> <a id="7617" class="Symbol">((</a><a id="7619" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a> <a id="7622" href="plfa.part1.Isomorphism.html#7459" class="Bound">B≃C</a> <a id="7626" href="plfa.part1.Isomorphism.html#1898" class="Function Operator">∘</a> <a id="7628" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a> <a id="7631" href="plfa.part1.Isomorphism.html#7455" class="Bound">A≃B</a><a id="7634" class="Symbol">)</a> <a id="7636" href="plfa.part1.Isomorphism.html#7567" class="Bound">x</a><a id="7637" class="Symbol">)</a>
        <a id="7647" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
          <a id="7661" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a> <a id="7666" href="plfa.part1.Isomorphism.html#7455" class="Bound">A≃B</a> <a id="7670" class="Symbol">(</a><a id="7671" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a> <a id="7676" href="plfa.part1.Isomorphism.html#7459" class="Bound">B≃C</a> <a id="7680" class="Symbol">(</a><a id="7681" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a> <a id="7684" href="plfa.part1.Isomorphism.html#7459" class="Bound">B≃C</a> <a id="7688" class="Symbol">(</a><a id="7689" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a> <a id="7692" href="plfa.part1.Isomorphism.html#7455" class="Bound">A≃B</a> <a id="7696" href="plfa.part1.Isomorphism.html#7567" class="Bound">x</a><a id="7697" class="Symbol">)))</a>
        <a id="7709" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="7712" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="7717" class="Symbol">(</a><a id="7718" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a> <a id="7723" href="plfa.part1.Isomorphism.html#7455" class="Bound">A≃B</a><a id="7726" class="Symbol">)</a> <a id="7728" class="Symbol">(</a><a id="7729" href="plfa.part1.Isomorphism.html#4377" class="Field">from∘to</a> <a id="7737" href="plfa.part1.Isomorphism.html#7459" class="Bound">B≃C</a> <a id="7741" class="Symbol">(</a><a id="7742" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a> <a id="7745" href="plfa.part1.Isomorphism.html#7455" class="Bound">A≃B</a> <a id="7749" href="plfa.part1.Isomorphism.html#7567" class="Bound">x</a><a id="7750" class="Symbol">))</a> <a id="7753" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="7765" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a> <a id="7770" href="plfa.part1.Isomorphism.html#7455" class="Bound">A≃B</a> <a id="7774" class="Symbol">(</a><a id="7775" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a> <a id="7778" href="plfa.part1.Isomorphism.html#7455" class="Bound">A≃B</a> <a id="7782" href="plfa.part1.Isomorphism.html#7567" class="Bound">x</a><a id="7783" class="Symbol">)</a>
        <a id="7793" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="7796" href="plfa.part1.Isomorphism.html#4377" class="Field">from∘to</a> <a id="7804" href="plfa.part1.Isomorphism.html#7455" class="Bound">A≃B</a> <a id="7808" href="plfa.part1.Isomorphism.html#7567" class="Bound">x</a> <a id="7810" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="7822" href="plfa.part1.Isomorphism.html#7567" class="Bound">x</a>
        <a id="7832" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a><a id="7833" class="Symbol">}</a>
    <a id="7839" class="Symbol">;</a> <a id="7841" href="plfa.part1.Isomorphism.html#4419" class="Field">to∘from</a> <a id="7849" class="Symbol">=</a> <a id="7851" class="Symbol">λ{</a><a id="7853" href="plfa.part1.Isomorphism.html#7853" class="Bound">y</a> <a id="7855" class="Symbol">→</a>
        <a id="7865" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
          <a id="7881" class="Symbol">(</a><a id="7882" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a> <a id="7885" href="plfa.part1.Isomorphism.html#7459" class="Bound">B≃C</a> <a id="7889" href="plfa.part1.Isomorphism.html#1898" class="Function Operator">∘</a> <a id="7891" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a> <a id="7894" href="plfa.part1.Isomorphism.html#7455" class="Bound">A≃B</a><a id="7897" class="Symbol">)</a> <a id="7899" class="Symbol">((</a><a id="7901" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a> <a id="7906" href="plfa.part1.Isomorphism.html#7455" class="Bound">A≃B</a> <a id="7910" href="plfa.part1.Isomorphism.html#1898" class="Function Operator">∘</a> <a id="7912" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a> <a id="7917" href="plfa.part1.Isomorphism.html#7459" class="Bound">B≃C</a><a id="7920" class="Symbol">)</a> <a id="7922" href="plfa.part1.Isomorphism.html#7853" class="Bound">y</a><a id="7923" class="Symbol">)</a>
        <a id="7933" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
          <a id="7947" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a> <a id="7950" href="plfa.part1.Isomorphism.html#7459" class="Bound">B≃C</a> <a id="7954" class="Symbol">(</a><a id="7955" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a> <a id="7958" href="plfa.part1.Isomorphism.html#7455" class="Bound">A≃B</a> <a id="7962" class="Symbol">(</a><a id="7963" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a> <a id="7968" href="plfa.part1.Isomorphism.html#7455" class="Bound">A≃B</a> <a id="7972" class="Symbol">(</a><a id="7973" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a> <a id="7978" href="plfa.part1.Isomorphism.html#7459" class="Bound">B≃C</a> <a id="7982" href="plfa.part1.Isomorphism.html#7853" class="Bound">y</a><a id="7983" class="Symbol">)))</a>
        <a id="7995" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="7998" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="8003" class="Symbol">(</a><a id="8004" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a> <a id="8007" href="plfa.part1.Isomorphism.html#7459" class="Bound">B≃C</a><a id="8010" class="Symbol">)</a> <a id="8012" class="Symbol">(</a><a id="8013" href="plfa.part1.Isomorphism.html#4419" class="Field">to∘from</a> <a id="8021" href="plfa.part1.Isomorphism.html#7455" class="Bound">A≃B</a> <a id="8025" class="Symbol">(</a><a id="8026" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a> <a id="8031" href="plfa.part1.Isomorphism.html#7459" class="Bound">B≃C</a> <a id="8035" href="plfa.part1.Isomorphism.html#7853" class="Bound">y</a><a id="8036" class="Symbol">))</a> <a id="8039" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="8051" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a> <a id="8054" href="plfa.part1.Isomorphism.html#7459" class="Bound">B≃C</a> <a id="8058" class="Symbol">(</a><a id="8059" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a> <a id="8064" href="plfa.part1.Isomorphism.html#7459" class="Bound">B≃C</a> <a id="8068" href="plfa.part1.Isomorphism.html#7853" class="Bound">y</a><a id="8069" class="Symbol">)</a>
        <a id="8079" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="8082" href="plfa.part1.Isomorphism.html#4419" class="Field">to∘from</a> <a id="8090" href="plfa.part1.Isomorphism.html#7459" class="Bound">B≃C</a> <a id="8094" href="plfa.part1.Isomorphism.html#7853" class="Bound">y</a> <a id="8096" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="8108" href="plfa.part1.Isomorphism.html#7853" class="Bound">y</a>
        <a id="8118" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a><a id="8119" class="Symbol">}</a>
     <a id="8126" class="Symbol">}</a>
</pre>

## Equational reasoning for isomorphism

It is straightforward to support a variant of equational reasoning for
isomorphism.  We essentially copy the previous definition
of equality for isomorphism.  We omit the form that corresponds to `_≡⟨⟩_`, since
trivial isomorphisms arise far less often than trivial equalities:

<pre class="Agda"><a id="8462" class="Keyword">module</a> <a id="≃-Reasoning"></a><a id="8469" href="plfa.part1.Isomorphism.html#8469" class="Module">≃-Reasoning</a> <a id="8481" class="Keyword">where</a>

  <a id="8490" class="Keyword">infix</a>  <a id="8497" class="Number">1</a> <a id="8499" href="plfa.part1.Isomorphism.html#8545" class="Function Operator">≃-begin_</a>
  <a id="8510" class="Keyword">infixr</a> <a id="8517" class="Number">2</a> <a id="8519" href="plfa.part1.Isomorphism.html#8629" class="Function Operator">_≃⟨_⟩_</a>
  <a id="8528" class="Keyword">infix</a>  <a id="8535" class="Number">3</a> <a id="8537" href="plfa.part1.Isomorphism.html#8748" class="Function Operator">_≃-∎</a>

  <a id="≃-Reasoning.≃-begin_"></a><a id="8545" href="plfa.part1.Isomorphism.html#8545" class="Function Operator">≃-begin_</a> <a id="8554" class="Symbol">:</a> <a id="8556" class="Symbol">∀</a> <a id="8558" class="Symbol">{</a><a id="8559" href="plfa.part1.Isomorphism.html#8559" class="Bound">A</a> <a id="8561" href="plfa.part1.Isomorphism.html#8561" class="Bound">B</a> <a id="8563" class="Symbol">:</a> <a id="8565" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="8568" class="Symbol">}</a>
    <a id="8574" class="Symbol">→</a> <a id="8576" href="plfa.part1.Isomorphism.html#8559" class="Bound">A</a> <a id="8578" href="plfa.part1.Isomorphism.html#4303" class="Record Operator">≃</a> <a id="8580" href="plfa.part1.Isomorphism.html#8561" class="Bound">B</a>
      <a id="8588" class="Comment">-----</a>
    <a id="8598" class="Symbol">→</a> <a id="8600" href="plfa.part1.Isomorphism.html#8559" class="Bound">A</a> <a id="8602" href="plfa.part1.Isomorphism.html#4303" class="Record Operator">≃</a> <a id="8604" href="plfa.part1.Isomorphism.html#8561" class="Bound">B</a>
  <a id="8608" href="plfa.part1.Isomorphism.html#8545" class="Function Operator">≃-begin</a> <a id="8616" href="plfa.part1.Isomorphism.html#8616" class="Bound">A≃B</a> <a id="8620" class="Symbol">=</a> <a id="8622" href="plfa.part1.Isomorphism.html#8616" class="Bound">A≃B</a>

  <a id="≃-Reasoning._≃⟨_⟩_"></a><a id="8629" href="plfa.part1.Isomorphism.html#8629" class="Function Operator">_≃⟨_⟩_</a> <a id="8636" class="Symbol">:</a> <a id="8638" class="Symbol">∀</a> <a id="8640" class="Symbol">(</a><a id="8641" href="plfa.part1.Isomorphism.html#8641" class="Bound">A</a> <a id="8643" class="Symbol">:</a> <a id="8645" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="8648" class="Symbol">)</a> <a id="8650" class="Symbol">{</a><a id="8651" href="plfa.part1.Isomorphism.html#8651" class="Bound">B</a> <a id="8653" href="plfa.part1.Isomorphism.html#8653" class="Bound">C</a> <a id="8655" class="Symbol">:</a> <a id="8657" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="8660" class="Symbol">}</a>
    <a id="8666" class="Symbol">→</a> <a id="8668" href="plfa.part1.Isomorphism.html#8641" class="Bound">A</a> <a id="8670" href="plfa.part1.Isomorphism.html#4303" class="Record Operator">≃</a> <a id="8672" href="plfa.part1.Isomorphism.html#8651" class="Bound">B</a>
    <a id="8678" class="Symbol">→</a> <a id="8680" href="plfa.part1.Isomorphism.html#8651" class="Bound">B</a> <a id="8682" href="plfa.part1.Isomorphism.html#4303" class="Record Operator">≃</a> <a id="8684" href="plfa.part1.Isomorphism.html#8653" class="Bound">C</a>
      <a id="8692" class="Comment">-----</a>
    <a id="8702" class="Symbol">→</a> <a id="8704" href="plfa.part1.Isomorphism.html#8641" class="Bound">A</a> <a id="8706" href="plfa.part1.Isomorphism.html#4303" class="Record Operator">≃</a> <a id="8708" href="plfa.part1.Isomorphism.html#8653" class="Bound">C</a>
  <a id="8712" href="plfa.part1.Isomorphism.html#8712" class="Bound">A</a> <a id="8714" href="plfa.part1.Isomorphism.html#8629" class="Function Operator">≃⟨</a> <a id="8717" href="plfa.part1.Isomorphism.html#8717" class="Bound">A≃B</a> <a id="8721" href="plfa.part1.Isomorphism.html#8629" class="Function Operator">⟩</a> <a id="8723" href="plfa.part1.Isomorphism.html#8723" class="Bound">B≃C</a> <a id="8727" class="Symbol">=</a> <a id="8729" href="plfa.part1.Isomorphism.html#7381" class="Function">≃-trans</a> <a id="8737" href="plfa.part1.Isomorphism.html#8717" class="Bound">A≃B</a> <a id="8741" href="plfa.part1.Isomorphism.html#8723" class="Bound">B≃C</a>

  <a id="≃-Reasoning._≃-∎"></a><a id="8748" href="plfa.part1.Isomorphism.html#8748" class="Function Operator">_≃-∎</a> <a id="8753" class="Symbol">:</a> <a id="8755" class="Symbol">∀</a> <a id="8757" class="Symbol">(</a><a id="8758" href="plfa.part1.Isomorphism.html#8758" class="Bound">A</a> <a id="8760" class="Symbol">:</a> <a id="8762" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="8765" class="Symbol">)</a>
      <a id="8773" class="Comment">-----</a>
    <a id="8783" class="Symbol">→</a> <a id="8785" href="plfa.part1.Isomorphism.html#8758" class="Bound">A</a> <a id="8787" href="plfa.part1.Isomorphism.html#4303" class="Record Operator">≃</a> <a id="8789" href="plfa.part1.Isomorphism.html#8758" class="Bound">A</a>
  <a id="8793" href="plfa.part1.Isomorphism.html#8793" class="Bound">A</a> <a id="8795" href="plfa.part1.Isomorphism.html#8748" class="Function Operator">≃-∎</a> <a id="8799" class="Symbol">=</a> <a id="8801" href="plfa.part1.Isomorphism.html#6442" class="Function">≃-refl</a>

<a id="8809" class="Keyword">open</a> <a id="8814" href="plfa.part1.Isomorphism.html#8469" class="Module">≃-Reasoning</a>
</pre>

## Embedding

We also need the notion of _embedding_, which is a weakening of
isomorphism.  While an isomorphism shows that two types are in
one-to-one correspondence, an embedding shows that the first type is
included in the second; or, equivalently, that there is a many-to-one
correspondence between the second type and the first.

Here is the formal definition of embedding:
<pre class="Agda"><a id="9219" class="Keyword">infix</a> <a id="9225" class="Number">0</a> <a id="9227" href="plfa.part1.Isomorphism.html#9238" class="Record Operator">_≲_</a>
<a id="9231" class="Keyword">record</a> <a id="_≲_"></a><a id="9238" href="plfa.part1.Isomorphism.html#9238" class="Record Operator">_≲_</a> <a id="9242" class="Symbol">(</a><a id="9243" href="plfa.part1.Isomorphism.html#9243" class="Bound">A</a> <a id="9245" href="plfa.part1.Isomorphism.html#9245" class="Bound">B</a> <a id="9247" class="Symbol">:</a> <a id="9249" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="9252" class="Symbol">)</a> <a id="9254" class="Symbol">:</a> <a id="9256" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="9260" class="Keyword">where</a>
  <a id="9268" class="Keyword">field</a>
    <a id="_≲_.to"></a><a id="9278" href="plfa.part1.Isomorphism.html#9278" class="Field">to</a>      <a id="9286" class="Symbol">:</a> <a id="9288" href="plfa.part1.Isomorphism.html#9243" class="Bound">A</a> <a id="9290" class="Symbol">→</a> <a id="9292" href="plfa.part1.Isomorphism.html#9245" class="Bound">B</a>
    <a id="_≲_.from"></a><a id="9298" href="plfa.part1.Isomorphism.html#9298" class="Field">from</a>    <a id="9306" class="Symbol">:</a> <a id="9308" href="plfa.part1.Isomorphism.html#9245" class="Bound">B</a> <a id="9310" class="Symbol">→</a> <a id="9312" href="plfa.part1.Isomorphism.html#9243" class="Bound">A</a>
    <a id="_≲_.from∘to"></a><a id="9318" href="plfa.part1.Isomorphism.html#9318" class="Field">from∘to</a> <a id="9326" class="Symbol">:</a> <a id="9328" class="Symbol">∀</a> <a id="9330" class="Symbol">(</a><a id="9331" href="plfa.part1.Isomorphism.html#9331" class="Bound">x</a> <a id="9333" class="Symbol">:</a> <a id="9335" href="plfa.part1.Isomorphism.html#9243" class="Bound">A</a><a id="9336" class="Symbol">)</a> <a id="9338" class="Symbol">→</a> <a id="9340" class="Field">from</a> <a id="9345" class="Symbol">(</a><a id="9346" class="Field">to</a> <a id="9349" href="plfa.part1.Isomorphism.html#9331" class="Bound">x</a><a id="9350" class="Symbol">)</a> <a id="9352" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9354" href="plfa.part1.Isomorphism.html#9331" class="Bound">x</a>
<a id="9356" class="Keyword">open</a> <a id="9361" href="plfa.part1.Isomorphism.html#9238" class="Module Operator">_≲_</a>
</pre>It is the same as an isomorphism, save that it lacks the `to∘from` field.
Hence, we know that `from` is left-inverse to `to`, but not that `from`
is right-inverse to `to`.

Embedding is reflexive and transitive, but not symmetric.  The proofs
are cut down versions of the similar proofs for isomorphism:
<pre class="Agda"><a id="≲-refl"></a><a id="9681" href="plfa.part1.Isomorphism.html#9681" class="Function">≲-refl</a> <a id="9688" class="Symbol">:</a> <a id="9690" class="Symbol">∀</a> <a id="9692" class="Symbol">{</a><a id="9693" href="plfa.part1.Isomorphism.html#9693" class="Bound">A</a> <a id="9695" class="Symbol">:</a> <a id="9697" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="9700" class="Symbol">}</a> <a id="9702" class="Symbol">→</a> <a id="9704" href="plfa.part1.Isomorphism.html#9693" class="Bound">A</a> <a id="9706" href="plfa.part1.Isomorphism.html#9238" class="Record Operator">≲</a> <a id="9708" href="plfa.part1.Isomorphism.html#9693" class="Bound">A</a>
<a id="9710" href="plfa.part1.Isomorphism.html#9681" class="Function">≲-refl</a> <a id="9717" class="Symbol">=</a>
  <a id="9721" class="Keyword">record</a>
    <a id="9732" class="Symbol">{</a> <a id="9734" href="plfa.part1.Isomorphism.html#9278" class="Field">to</a>      <a id="9742" class="Symbol">=</a> <a id="9744" class="Symbol">λ{</a><a id="9746" href="plfa.part1.Isomorphism.html#9746" class="Bound">x</a> <a id="9748" class="Symbol">→</a> <a id="9750" href="plfa.part1.Isomorphism.html#9746" class="Bound">x</a><a id="9751" class="Symbol">}</a>
    <a id="9757" class="Symbol">;</a> <a id="9759" href="plfa.part1.Isomorphism.html#9298" class="Field">from</a>    <a id="9767" class="Symbol">=</a> <a id="9769" class="Symbol">λ{</a><a id="9771" href="plfa.part1.Isomorphism.html#9771" class="Bound">y</a> <a id="9773" class="Symbol">→</a> <a id="9775" href="plfa.part1.Isomorphism.html#9771" class="Bound">y</a><a id="9776" class="Symbol">}</a>
    <a id="9782" class="Symbol">;</a> <a id="9784" href="plfa.part1.Isomorphism.html#9318" class="Field">from∘to</a> <a id="9792" class="Symbol">=</a> <a id="9794" class="Symbol">λ{</a><a id="9796" href="plfa.part1.Isomorphism.html#9796" class="Bound">x</a> <a id="9798" class="Symbol">→</a> <a id="9800" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="9804" class="Symbol">}</a>
    <a id="9810" class="Symbol">}</a>

<a id="≲-trans"></a><a id="9813" href="plfa.part1.Isomorphism.html#9813" class="Function">≲-trans</a> <a id="9821" class="Symbol">:</a> <a id="9823" class="Symbol">∀</a> <a id="9825" class="Symbol">{</a><a id="9826" href="plfa.part1.Isomorphism.html#9826" class="Bound">A</a> <a id="9828" href="plfa.part1.Isomorphism.html#9828" class="Bound">B</a> <a id="9830" href="plfa.part1.Isomorphism.html#9830" class="Bound">C</a> <a id="9832" class="Symbol">:</a> <a id="9834" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="9837" class="Symbol">}</a> <a id="9839" class="Symbol">→</a> <a id="9841" href="plfa.part1.Isomorphism.html#9826" class="Bound">A</a> <a id="9843" href="plfa.part1.Isomorphism.html#9238" class="Record Operator">≲</a> <a id="9845" href="plfa.part1.Isomorphism.html#9828" class="Bound">B</a> <a id="9847" class="Symbol">→</a> <a id="9849" href="plfa.part1.Isomorphism.html#9828" class="Bound">B</a> <a id="9851" href="plfa.part1.Isomorphism.html#9238" class="Record Operator">≲</a> <a id="9853" href="plfa.part1.Isomorphism.html#9830" class="Bound">C</a> <a id="9855" class="Symbol">→</a> <a id="9857" href="plfa.part1.Isomorphism.html#9826" class="Bound">A</a> <a id="9859" href="plfa.part1.Isomorphism.html#9238" class="Record Operator">≲</a> <a id="9861" href="plfa.part1.Isomorphism.html#9830" class="Bound">C</a>
<a id="9863" href="plfa.part1.Isomorphism.html#9813" class="Function">≲-trans</a> <a id="9871" href="plfa.part1.Isomorphism.html#9871" class="Bound">A≲B</a> <a id="9875" href="plfa.part1.Isomorphism.html#9875" class="Bound">B≲C</a> <a id="9879" class="Symbol">=</a>
  <a id="9883" class="Keyword">record</a>
    <a id="9894" class="Symbol">{</a> <a id="9896" href="plfa.part1.Isomorphism.html#9278" class="Field">to</a>      <a id="9904" class="Symbol">=</a> <a id="9906" class="Symbol">λ{</a><a id="9908" href="plfa.part1.Isomorphism.html#9908" class="Bound">x</a> <a id="9910" class="Symbol">→</a> <a id="9912" href="plfa.part1.Isomorphism.html#9278" class="Field">to</a>   <a id="9917" href="plfa.part1.Isomorphism.html#9875" class="Bound">B≲C</a> <a id="9921" class="Symbol">(</a><a id="9922" href="plfa.part1.Isomorphism.html#9278" class="Field">to</a>   <a id="9927" href="plfa.part1.Isomorphism.html#9871" class="Bound">A≲B</a> <a id="9931" href="plfa.part1.Isomorphism.html#9908" class="Bound">x</a><a id="9932" class="Symbol">)}</a>
    <a id="9939" class="Symbol">;</a> <a id="9941" href="plfa.part1.Isomorphism.html#9298" class="Field">from</a>    <a id="9949" class="Symbol">=</a> <a id="9951" class="Symbol">λ{</a><a id="9953" href="plfa.part1.Isomorphism.html#9953" class="Bound">y</a> <a id="9955" class="Symbol">→</a> <a id="9957" href="plfa.part1.Isomorphism.html#9298" class="Field">from</a> <a id="9962" href="plfa.part1.Isomorphism.html#9871" class="Bound">A≲B</a> <a id="9966" class="Symbol">(</a><a id="9967" href="plfa.part1.Isomorphism.html#9298" class="Field">from</a> <a id="9972" href="plfa.part1.Isomorphism.html#9875" class="Bound">B≲C</a> <a id="9976" href="plfa.part1.Isomorphism.html#9953" class="Bound">y</a><a id="9977" class="Symbol">)}</a>
    <a id="9984" class="Symbol">;</a> <a id="9986" href="plfa.part1.Isomorphism.html#9318" class="Field">from∘to</a> <a id="9994" class="Symbol">=</a> <a id="9996" class="Symbol">λ{</a><a id="9998" href="plfa.part1.Isomorphism.html#9998" class="Bound">x</a> <a id="10000" class="Symbol">→</a>
        <a id="10010" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
          <a id="10026" href="plfa.part1.Isomorphism.html#9298" class="Field">from</a> <a id="10031" href="plfa.part1.Isomorphism.html#9871" class="Bound">A≲B</a> <a id="10035" class="Symbol">(</a><a id="10036" href="plfa.part1.Isomorphism.html#9298" class="Field">from</a> <a id="10041" href="plfa.part1.Isomorphism.html#9875" class="Bound">B≲C</a> <a id="10045" class="Symbol">(</a><a id="10046" href="plfa.part1.Isomorphism.html#9278" class="Field">to</a> <a id="10049" href="plfa.part1.Isomorphism.html#9875" class="Bound">B≲C</a> <a id="10053" class="Symbol">(</a><a id="10054" href="plfa.part1.Isomorphism.html#9278" class="Field">to</a> <a id="10057" href="plfa.part1.Isomorphism.html#9871" class="Bound">A≲B</a> <a id="10061" href="plfa.part1.Isomorphism.html#9998" class="Bound">x</a><a id="10062" class="Symbol">)))</a>
        <a id="10074" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="10077" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="10082" class="Symbol">(</a><a id="10083" href="plfa.part1.Isomorphism.html#9298" class="Field">from</a> <a id="10088" href="plfa.part1.Isomorphism.html#9871" class="Bound">A≲B</a><a id="10091" class="Symbol">)</a> <a id="10093" class="Symbol">(</a><a id="10094" href="plfa.part1.Isomorphism.html#9318" class="Field">from∘to</a> <a id="10102" href="plfa.part1.Isomorphism.html#9875" class="Bound">B≲C</a> <a id="10106" class="Symbol">(</a><a id="10107" href="plfa.part1.Isomorphism.html#9278" class="Field">to</a> <a id="10110" href="plfa.part1.Isomorphism.html#9871" class="Bound">A≲B</a> <a id="10114" href="plfa.part1.Isomorphism.html#9998" class="Bound">x</a><a id="10115" class="Symbol">))</a> <a id="10118" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="10130" href="plfa.part1.Isomorphism.html#9298" class="Field">from</a> <a id="10135" href="plfa.part1.Isomorphism.html#9871" class="Bound">A≲B</a> <a id="10139" class="Symbol">(</a><a id="10140" href="plfa.part1.Isomorphism.html#9278" class="Field">to</a> <a id="10143" href="plfa.part1.Isomorphism.html#9871" class="Bound">A≲B</a> <a id="10147" href="plfa.part1.Isomorphism.html#9998" class="Bound">x</a><a id="10148" class="Symbol">)</a>
        <a id="10158" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="10161" href="plfa.part1.Isomorphism.html#9318" class="Field">from∘to</a> <a id="10169" href="plfa.part1.Isomorphism.html#9871" class="Bound">A≲B</a> <a id="10173" href="plfa.part1.Isomorphism.html#9998" class="Bound">x</a> <a id="10175" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="10187" href="plfa.part1.Isomorphism.html#9998" class="Bound">x</a>
        <a id="10197" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a><a id="10198" class="Symbol">}</a>
     <a id="10205" class="Symbol">}</a>
</pre>
It is also easy to see that if two types embed in each other, and the
embedding functions correspond, then they are isomorphic.  This is a
weak form of anti-symmetry:
<pre class="Agda"><a id="≲-antisym"></a><a id="10387" href="plfa.part1.Isomorphism.html#10387" class="Function">≲-antisym</a> <a id="10397" class="Symbol">:</a> <a id="10399" class="Symbol">∀</a> <a id="10401" class="Symbol">{</a><a id="10402" href="plfa.part1.Isomorphism.html#10402" class="Bound">A</a> <a id="10404" href="plfa.part1.Isomorphism.html#10404" class="Bound">B</a> <a id="10406" class="Symbol">:</a> <a id="10408" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="10411" class="Symbol">}</a>
  <a id="10415" class="Symbol">→</a> <a id="10417" class="Symbol">(</a><a id="10418" href="plfa.part1.Isomorphism.html#10418" class="Bound">A≲B</a> <a id="10422" class="Symbol">:</a> <a id="10424" href="plfa.part1.Isomorphism.html#10402" class="Bound">A</a> <a id="10426" href="plfa.part1.Isomorphism.html#9238" class="Record Operator">≲</a> <a id="10428" href="plfa.part1.Isomorphism.html#10404" class="Bound">B</a><a id="10429" class="Symbol">)</a>
  <a id="10433" class="Symbol">→</a> <a id="10435" class="Symbol">(</a><a id="10436" href="plfa.part1.Isomorphism.html#10436" class="Bound">B≲A</a> <a id="10440" class="Symbol">:</a> <a id="10442" href="plfa.part1.Isomorphism.html#10404" class="Bound">B</a> <a id="10444" href="plfa.part1.Isomorphism.html#9238" class="Record Operator">≲</a> <a id="10446" href="plfa.part1.Isomorphism.html#10402" class="Bound">A</a><a id="10447" class="Symbol">)</a>
  <a id="10451" class="Symbol">→</a> <a id="10453" class="Symbol">(</a><a id="10454" class="Field">to</a> <a id="10457" href="plfa.part1.Isomorphism.html#10418" class="Bound">A≲B</a> <a id="10461" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10463" class="Field">from</a> <a id="10468" href="plfa.part1.Isomorphism.html#10436" class="Bound">B≲A</a><a id="10471" class="Symbol">)</a>
  <a id="10475" class="Symbol">→</a> <a id="10477" class="Symbol">(</a><a id="10478" class="Field">from</a> <a id="10483" href="plfa.part1.Isomorphism.html#10418" class="Bound">A≲B</a> <a id="10487" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10489" class="Field">to</a> <a id="10492" href="plfa.part1.Isomorphism.html#10436" class="Bound">B≲A</a><a id="10495" class="Symbol">)</a>
    <a id="10501" class="Comment">-------------------</a>
  <a id="10523" class="Symbol">→</a> <a id="10525" href="plfa.part1.Isomorphism.html#10402" class="Bound">A</a> <a id="10527" href="plfa.part1.Isomorphism.html#4303" class="Record Operator">≃</a> <a id="10529" href="plfa.part1.Isomorphism.html#10404" class="Bound">B</a>
<a id="10531" href="plfa.part1.Isomorphism.html#10387" class="Function">≲-antisym</a> <a id="10541" href="plfa.part1.Isomorphism.html#10541" class="Bound">A≲B</a> <a id="10545" href="plfa.part1.Isomorphism.html#10545" class="Bound">B≲A</a> <a id="10549" href="plfa.part1.Isomorphism.html#10549" class="Bound">to≡from</a> <a id="10557" href="plfa.part1.Isomorphism.html#10557" class="Bound">from≡to</a> <a id="10565" class="Symbol">=</a>
  <a id="10569" class="Keyword">record</a>
    <a id="10580" class="Symbol">{</a> <a id="10582" href="plfa.part1.Isomorphism.html#4343" class="Field">to</a>      <a id="10590" class="Symbol">=</a> <a id="10592" href="plfa.part1.Isomorphism.html#9278" class="Field">to</a> <a id="10595" href="plfa.part1.Isomorphism.html#10541" class="Bound">A≲B</a>
    <a id="10603" class="Symbol">;</a> <a id="10605" href="plfa.part1.Isomorphism.html#4360" class="Field">from</a>    <a id="10613" class="Symbol">=</a> <a id="10615" href="plfa.part1.Isomorphism.html#9298" class="Field">from</a> <a id="10620" href="plfa.part1.Isomorphism.html#10541" class="Bound">A≲B</a>
    <a id="10628" class="Symbol">;</a> <a id="10630" href="plfa.part1.Isomorphism.html#4377" class="Field">from∘to</a> <a id="10638" class="Symbol">=</a> <a id="10640" href="plfa.part1.Isomorphism.html#9318" class="Field">from∘to</a> <a id="10648" href="plfa.part1.Isomorphism.html#10541" class="Bound">A≲B</a>
    <a id="10656" class="Symbol">;</a> <a id="10658" href="plfa.part1.Isomorphism.html#4419" class="Field">to∘from</a> <a id="10666" class="Symbol">=</a> <a id="10668" class="Symbol">λ{</a><a id="10670" href="plfa.part1.Isomorphism.html#10670" class="Bound">y</a> <a id="10672" class="Symbol">→</a>
        <a id="10682" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
          <a id="10698" href="plfa.part1.Isomorphism.html#9278" class="Field">to</a> <a id="10701" href="plfa.part1.Isomorphism.html#10541" class="Bound">A≲B</a> <a id="10705" class="Symbol">(</a><a id="10706" href="plfa.part1.Isomorphism.html#9298" class="Field">from</a> <a id="10711" href="plfa.part1.Isomorphism.html#10541" class="Bound">A≲B</a> <a id="10715" href="plfa.part1.Isomorphism.html#10670" class="Bound">y</a><a id="10716" class="Symbol">)</a>
        <a id="10726" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="10729" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="10734" class="Symbol">(</a><a id="10735" href="plfa.part1.Isomorphism.html#9278" class="Field">to</a> <a id="10738" href="plfa.part1.Isomorphism.html#10541" class="Bound">A≲B</a><a id="10741" class="Symbol">)</a> <a id="10743" class="Symbol">(</a><a id="10744" href="Relation.Binary.PropositionalEquality.Core.html#1470" class="Function">cong-app</a> <a id="10753" href="plfa.part1.Isomorphism.html#10557" class="Bound">from≡to</a> <a id="10761" href="plfa.part1.Isomorphism.html#10670" class="Bound">y</a><a id="10762" class="Symbol">)</a> <a id="10764" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="10776" href="plfa.part1.Isomorphism.html#9278" class="Field">to</a> <a id="10779" href="plfa.part1.Isomorphism.html#10541" class="Bound">A≲B</a> <a id="10783" class="Symbol">(</a><a id="10784" href="plfa.part1.Isomorphism.html#9278" class="Field">to</a> <a id="10787" href="plfa.part1.Isomorphism.html#10545" class="Bound">B≲A</a> <a id="10791" href="plfa.part1.Isomorphism.html#10670" class="Bound">y</a><a id="10792" class="Symbol">)</a>
        <a id="10802" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="10805" href="Relation.Binary.PropositionalEquality.Core.html#1470" class="Function">cong-app</a> <a id="10814" href="plfa.part1.Isomorphism.html#10549" class="Bound">to≡from</a> <a id="10822" class="Symbol">(</a><a id="10823" href="plfa.part1.Isomorphism.html#9278" class="Field">to</a> <a id="10826" href="plfa.part1.Isomorphism.html#10545" class="Bound">B≲A</a> <a id="10830" href="plfa.part1.Isomorphism.html#10670" class="Bound">y</a><a id="10831" class="Symbol">)</a> <a id="10833" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="10845" href="plfa.part1.Isomorphism.html#9298" class="Field">from</a> <a id="10850" href="plfa.part1.Isomorphism.html#10545" class="Bound">B≲A</a> <a id="10854" class="Symbol">(</a><a id="10855" href="plfa.part1.Isomorphism.html#9278" class="Field">to</a> <a id="10858" href="plfa.part1.Isomorphism.html#10545" class="Bound">B≲A</a> <a id="10862" href="plfa.part1.Isomorphism.html#10670" class="Bound">y</a><a id="10863" class="Symbol">)</a>
        <a id="10873" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="10876" href="plfa.part1.Isomorphism.html#9318" class="Field">from∘to</a> <a id="10884" href="plfa.part1.Isomorphism.html#10545" class="Bound">B≲A</a> <a id="10888" href="plfa.part1.Isomorphism.html#10670" class="Bound">y</a> <a id="10890" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="10902" href="plfa.part1.Isomorphism.html#10670" class="Bound">y</a>
        <a id="10912" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a><a id="10913" class="Symbol">}</a>
    <a id="10919" class="Symbol">}</a>
</pre>The first three components are copied from the embedding, while the
last combines the left inverse of `B ≲ A` with the equivalences of
the `to` and `from` components from the two embeddings to obtain
the right inverse of the isomorphism.

## Equational reasoning for embedding

We can also support tabular reasoning for embedding,
analogous to that used for isomorphism:

<pre class="Agda"><a id="11305" class="Keyword">module</a> <a id="≲-Reasoning"></a><a id="11312" href="plfa.part1.Isomorphism.html#11312" class="Module">≲-Reasoning</a> <a id="11324" class="Keyword">where</a>

  <a id="11333" class="Keyword">infix</a>  <a id="11340" class="Number">1</a> <a id="11342" href="plfa.part1.Isomorphism.html#11388" class="Function Operator">≲-begin_</a>
  <a id="11353" class="Keyword">infixr</a> <a id="11360" class="Number">2</a> <a id="11362" href="plfa.part1.Isomorphism.html#11472" class="Function Operator">_≲⟨_⟩_</a>
  <a id="11371" class="Keyword">infix</a>  <a id="11378" class="Number">3</a> <a id="11380" href="plfa.part1.Isomorphism.html#11591" class="Function Operator">_≲-∎</a>

  <a id="≲-Reasoning.≲-begin_"></a><a id="11388" href="plfa.part1.Isomorphism.html#11388" class="Function Operator">≲-begin_</a> <a id="11397" class="Symbol">:</a> <a id="11399" class="Symbol">∀</a> <a id="11401" class="Symbol">{</a><a id="11402" href="plfa.part1.Isomorphism.html#11402" class="Bound">A</a> <a id="11404" href="plfa.part1.Isomorphism.html#11404" class="Bound">B</a> <a id="11406" class="Symbol">:</a> <a id="11408" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="11411" class="Symbol">}</a>
    <a id="11417" class="Symbol">→</a> <a id="11419" href="plfa.part1.Isomorphism.html#11402" class="Bound">A</a> <a id="11421" href="plfa.part1.Isomorphism.html#9238" class="Record Operator">≲</a> <a id="11423" href="plfa.part1.Isomorphism.html#11404" class="Bound">B</a>
      <a id="11431" class="Comment">-----</a>
    <a id="11441" class="Symbol">→</a> <a id="11443" href="plfa.part1.Isomorphism.html#11402" class="Bound">A</a> <a id="11445" href="plfa.part1.Isomorphism.html#9238" class="Record Operator">≲</a> <a id="11447" href="plfa.part1.Isomorphism.html#11404" class="Bound">B</a>
  <a id="11451" href="plfa.part1.Isomorphism.html#11388" class="Function Operator">≲-begin</a> <a id="11459" href="plfa.part1.Isomorphism.html#11459" class="Bound">A≲B</a> <a id="11463" class="Symbol">=</a> <a id="11465" href="plfa.part1.Isomorphism.html#11459" class="Bound">A≲B</a>

  <a id="≲-Reasoning._≲⟨_⟩_"></a><a id="11472" href="plfa.part1.Isomorphism.html#11472" class="Function Operator">_≲⟨_⟩_</a> <a id="11479" class="Symbol">:</a> <a id="11481" class="Symbol">∀</a> <a id="11483" class="Symbol">(</a><a id="11484" href="plfa.part1.Isomorphism.html#11484" class="Bound">A</a> <a id="11486" class="Symbol">:</a> <a id="11488" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="11491" class="Symbol">)</a> <a id="11493" class="Symbol">{</a><a id="11494" href="plfa.part1.Isomorphism.html#11494" class="Bound">B</a> <a id="11496" href="plfa.part1.Isomorphism.html#11496" class="Bound">C</a> <a id="11498" class="Symbol">:</a> <a id="11500" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="11503" class="Symbol">}</a>
    <a id="11509" class="Symbol">→</a> <a id="11511" href="plfa.part1.Isomorphism.html#11484" class="Bound">A</a> <a id="11513" href="plfa.part1.Isomorphism.html#9238" class="Record Operator">≲</a> <a id="11515" href="plfa.part1.Isomorphism.html#11494" class="Bound">B</a>
    <a id="11521" class="Symbol">→</a> <a id="11523" href="plfa.part1.Isomorphism.html#11494" class="Bound">B</a> <a id="11525" href="plfa.part1.Isomorphism.html#9238" class="Record Operator">≲</a> <a id="11527" href="plfa.part1.Isomorphism.html#11496" class="Bound">C</a>
      <a id="11535" class="Comment">-----</a>
    <a id="11545" class="Symbol">→</a> <a id="11547" href="plfa.part1.Isomorphism.html#11484" class="Bound">A</a> <a id="11549" href="plfa.part1.Isomorphism.html#9238" class="Record Operator">≲</a> <a id="11551" href="plfa.part1.Isomorphism.html#11496" class="Bound">C</a>
  <a id="11555" href="plfa.part1.Isomorphism.html#11555" class="Bound">A</a> <a id="11557" href="plfa.part1.Isomorphism.html#11472" class="Function Operator">≲⟨</a> <a id="11560" href="plfa.part1.Isomorphism.html#11560" class="Bound">A≲B</a> <a id="11564" href="plfa.part1.Isomorphism.html#11472" class="Function Operator">⟩</a> <a id="11566" href="plfa.part1.Isomorphism.html#11566" class="Bound">B≲C</a> <a id="11570" class="Symbol">=</a> <a id="11572" href="plfa.part1.Isomorphism.html#9813" class="Function">≲-trans</a> <a id="11580" href="plfa.part1.Isomorphism.html#11560" class="Bound">A≲B</a> <a id="11584" href="plfa.part1.Isomorphism.html#11566" class="Bound">B≲C</a>

  <a id="≲-Reasoning._≲-∎"></a><a id="11591" href="plfa.part1.Isomorphism.html#11591" class="Function Operator">_≲-∎</a> <a id="11596" class="Symbol">:</a> <a id="11598" class="Symbol">∀</a> <a id="11600" class="Symbol">(</a><a id="11601" href="plfa.part1.Isomorphism.html#11601" class="Bound">A</a> <a id="11603" class="Symbol">:</a> <a id="11605" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="11608" class="Symbol">)</a>
      <a id="11616" class="Comment">-----</a>
    <a id="11626" class="Symbol">→</a> <a id="11628" href="plfa.part1.Isomorphism.html#11601" class="Bound">A</a> <a id="11630" href="plfa.part1.Isomorphism.html#9238" class="Record Operator">≲</a> <a id="11632" href="plfa.part1.Isomorphism.html#11601" class="Bound">A</a>
  <a id="11636" href="plfa.part1.Isomorphism.html#11636" class="Bound">A</a> <a id="11638" href="plfa.part1.Isomorphism.html#11591" class="Function Operator">≲-∎</a> <a id="11642" class="Symbol">=</a> <a id="11644" href="plfa.part1.Isomorphism.html#9681" class="Function">≲-refl</a>

<a id="11652" class="Keyword">open</a> <a id="11657" href="plfa.part1.Isomorphism.html#11312" class="Module">≲-Reasoning</a>
</pre>
#### Exercise `≃-implies-≲` (practice)

Show that every isomorphism implies an embedding.
<pre class="Agda"><a id="11772" class="Keyword">postulate</a>
  <a id="≃-implies-≲"></a><a id="11784" href="plfa.part1.Isomorphism.html#11784" class="Postulate">≃-implies-≲</a> <a id="11796" class="Symbol">:</a> <a id="11798" class="Symbol">∀</a> <a id="11800" class="Symbol">{</a><a id="11801" href="plfa.part1.Isomorphism.html#11801" class="Bound">A</a> <a id="11803" href="plfa.part1.Isomorphism.html#11803" class="Bound">B</a> <a id="11805" class="Symbol">:</a> <a id="11807" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="11810" class="Symbol">}</a>
    <a id="11816" class="Symbol">→</a> <a id="11818" href="plfa.part1.Isomorphism.html#11801" class="Bound">A</a> <a id="11820" href="plfa.part1.Isomorphism.html#4303" class="Record Operator">≃</a> <a id="11822" href="plfa.part1.Isomorphism.html#11803" class="Bound">B</a>
      <a id="11830" class="Comment">-----</a>
    <a id="11840" class="Symbol">→</a> <a id="11842" href="plfa.part1.Isomorphism.html#11801" class="Bound">A</a> <a id="11844" href="plfa.part1.Isomorphism.html#9238" class="Record Operator">≲</a> <a id="11846" href="plfa.part1.Isomorphism.html#11803" class="Bound">B</a>
</pre>
<pre class="Agda"><a id="11861" class="Comment">-- Your code goes here</a>
</pre>
#### Exercise `_⇔_` (practice) {#iff}

Define equivalence of propositions (also known as "if and only if") as follows:
<pre class="Agda"><a id="12016" class="Keyword">record</a> <a id="_⇔_"></a><a id="12023" href="plfa.part1.Isomorphism.html#12023" class="Record Operator">_⇔_</a> <a id="12027" class="Symbol">(</a><a id="12028" href="plfa.part1.Isomorphism.html#12028" class="Bound">A</a> <a id="12030" href="plfa.part1.Isomorphism.html#12030" class="Bound">B</a> <a id="12032" class="Symbol">:</a> <a id="12034" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="12037" class="Symbol">)</a> <a id="12039" class="Symbol">:</a> <a id="12041" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="12045" class="Keyword">where</a>
  <a id="12053" class="Keyword">field</a>
    <a id="_⇔_.to"></a><a id="12063" href="plfa.part1.Isomorphism.html#12063" class="Field">to</a>   <a id="12068" class="Symbol">:</a> <a id="12070" href="plfa.part1.Isomorphism.html#12028" class="Bound">A</a> <a id="12072" class="Symbol">→</a> <a id="12074" href="plfa.part1.Isomorphism.html#12030" class="Bound">B</a>
    <a id="_⇔_.from"></a><a id="12080" href="plfa.part1.Isomorphism.html#12080" class="Field">from</a> <a id="12085" class="Symbol">:</a> <a id="12087" href="plfa.part1.Isomorphism.html#12030" class="Bound">B</a> <a id="12089" class="Symbol">→</a> <a id="12091" href="plfa.part1.Isomorphism.html#12028" class="Bound">A</a>
</pre>Show that equivalence is reflexive, symmetric, and transitive.

<pre class="Agda"><a id="12169" class="Comment">-- Your code goes here</a>
</pre>
#### Exercise `Bin-embedding` (stretch) {#Bin-embedding}

Recall that Exercises
[Bin](/Naturals/#Bin) and
[Bin-laws](/Induction/#Bin-laws)
define a datatype `Bin` of bitstrings representing natural numbers,
and asks you to define the following functions and predicates:

    to : ℕ → Bin
    from : Bin → ℕ

which satisfy the following property:

    from (to n) ≡ n

Using the above, establish that there is an embedding of `ℕ` into `Bin`.
<pre class="Agda"><a id="12646" class="Comment">-- Your code goes here</a>
</pre>
Why do `to` and `from` not form an isomorphism?

## Standard library

Definitions similar to those in this chapter can be found in the standard library:
<pre class="Agda"><a id="12835" class="Keyword">import</a> <a id="12842" href="Function.html" class="Module">Function</a> <a id="12851" class="Keyword">using</a> <a id="12857" class="Symbol">(</a><a id="12858" href="Function.Base.html#1040" class="Function Operator">_∘_</a><a id="12861" class="Symbol">)</a>
<a id="12863" class="Keyword">import</a> <a id="12870" href="Function.Inverse.html" class="Module">Function.Inverse</a> <a id="12887" class="Keyword">using</a> <a id="12893" class="Symbol">(</a><a id="12894" href="Function.Inverse.html#2466" class="Function Operator">_↔_</a><a id="12897" class="Symbol">)</a>
<a id="12899" class="Keyword">import</a> <a id="12906" href="Function.LeftInverse.html" class="Module">Function.LeftInverse</a> <a id="12927" class="Keyword">using</a> <a id="12933" class="Symbol">(</a><a id="12934" href="Function.LeftInverse.html#2922" class="Function Operator">_↞_</a><a id="12937" class="Symbol">)</a>
</pre>The standard library `_↔_` and `_↞_` correspond to our `_≃_` and
`_≲_`, respectively, but those in the standard library are less
convenient, since they depend on a nested record structure and are
parameterised with regard to an arbitrary notion of equivalence.

## Unicode

This chapter uses the following unicode:

    ∘  U+2218  RING OPERATOR (\o, \circ, \comp)
    λ  U+03BB  GREEK SMALL LETTER LAMBDA (\lambda, \Gl)
    ≃  U+2243  ASYMPTOTICALLY EQUAL TO (\~-)
    ≲  U+2272  LESS-THAN OR EQUIVALENT TO (\<~)
    ⇔  U+21D4  LEFT RIGHT DOUBLE ARROW (\<=>)
